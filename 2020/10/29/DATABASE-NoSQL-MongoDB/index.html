
<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Java Server Developer">
    <title>DATABASE-NoSQL(MongoDB) - Java Server Developer</title>
    <meta name="author" content="Yechan Kim">
    
    
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Yechan Kim","sameAs":["https://github.com/","http://stackoverflow.com/users","https://twitter.com/","https://facebook.com/","https://plus.google.com/","https://www.linkedin.com/profile/","mailto"]},"articleBody":"MongoDBMongoDB Setting\nMongoDB 설치 및 설정\n 1234567891011121314sudo apt update -ysudo apt upgrade -ysudo apt install -y mongodbsudo systemctl status mongodbsudo vi /etc/mongodb.conf# bind_ip = 0.0.0.0# auth = true# 패스워드 설정$ mongo&gt; use admin&gt; db.createUser(&#123; user: &quot;rada&quot;, pwd: &quot;radapw&quot;, roles: [ &quot;root&quot; ] &#125;)&gt; quit()$ sudo systemctl restart mongodb# aws 인스턴스 27017 포트 접속 허용\n\n mongo 명령어를 입력하면 mongo shell에 접속됩니다.\n\nInstall Robomongo\n https://robomongo.org/ 페이지에서 경로에서 ROBO 3T 다운로드 후 설치 합니다.\n\nConnection\n MongoDB Connections에서 ip를 입력하여 서버의 mongoDB에 접속합니다.\n\n\n\n문법ref : https://docs.mongodb.com/v3.6/reference/\n\nCreate Database\n\nmongo 라는 이름의 데이터 베이스 생성\n  1use mongo\n\n현재 사용중인 데이터 베이스 확인\n  1db\n\ndatabase list 확인\n  1show dbs\n\n데이터 베에스를 생성후에 최소 1개이상의 document를 추가해야 생성된 데이터 베이스가 보인다\n\n\n\n\n\n- document 생성\n    &lt;!--hexoPostRenderEscape:&lt;figure class=&quot;highlight sql&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;use&lt;/span&gt; mongo&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;db.user.insert(&amp;#123;&lt;span class=&quot;string&quot;&gt;&amp;quot;name&amp;quot;&lt;/span&gt;:&lt;span class=&quot;string&quot;&gt;&amp;quot;alice&amp;quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&amp;quot;age&amp;quot;&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;20&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&amp;quot;email&amp;quot;&lt;/span&gt;:&lt;span class=&quot;string&quot;&gt;&amp;quot;alice@gmail.com&amp;quot;&lt;/span&gt;&amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;:hexoPostRenderEscape--&gt;\n\nDelete Database\n\n현재 사용중인 데이터 베이스 삭제  1db.dropDatabase()\n\n\nCreate Collection\n  refer https://docs.mongodb.com/v3.6/reference/method/db.createCollection/\n\nsyntax\n  1db.createCollection(collection 이름, [option])\n\noption\n\ncapped : true로 설정하면 collection의 최대 용량을 설정 (최대 용량의 크기는 size 옵션으로 설정), 설정된 최대용량 이상으로 데이터가 입력되면 오래된 데이터 부터 자동으로 삭제됩니다.\nautoIndex : true로 설정하면 _id 필드에 index가 자동으로 생성됩니다.\nsize : 숫자 데이터를 사용하며 collection의 최대 사이즈를 byte 단위로 지정\nmax : 숫자 데이터를 사용하며 최대 document 갯수를 설정\n\n\nuser 컬렉션을 생성\n  1db.createCollection(&quot;user&quot;)\n\nautoIndex와 max 옵션을 설정하여 info 컬렉션을 생성\n  12db.createCollection(&quot;info1&quot;, &#123; autoIndexId: true, capped: true, size: 500, max:5 &#125;)db.createCollection(&quot;info2&quot;, &#123; autoIndexId: true, capped: true, size: 50, max:5 &#125;)\n\ncreateCollection을 사용하지 않고 article 컬렉션을 생성\n  1db.articles.insert( &#123;&quot;title&quot;:&quot;data science&quot;, &quot;contents&quot;:&quot;mongodb&quot; &#125; )\n\n컬렉션 리스트 확인\n  1show collections\n\n\n\nDelete Collection\n\narticles 컬렉션 삭제  1db.articles.drop()\n\n\n\nMake Document\n\nsyntax\n  1db.&lt;collection_name&gt;.insert(&lt;document&gt;)\n\ninfo 컬렉션에 document 추가\n  123db.info1.insert(&#123; &quot;subject&quot;:&quot;python&quot;, &quot;level&quot;:3 &#125;)db.info1.insert(&#123; &quot;subject&quot;:&quot;web&quot;, &quot;level&quot;:1 &#125;)db.info1.insert(&#123; &quot;subject&quot;:&quot;sql&quot;, &quot;level&quot;:2 &#125;)\n\n한번에 여러개의 document 추가\n\nmax:5 옵션 제한에 걸려 5개의 데이터가 info1에 들어간다.\n  12345678db.info1.insert( [&#123; &quot;subject&quot;:&quot;python&quot;, &quot;level&quot;:3 &#125;,&#123; &quot;subject&quot;:&quot;web&quot;, &quot;level&quot;:1 &#125;,&#123; &quot;subject&quot;:&quot;sql&quot;, &quot;level&quot;:2 &#125;,&#123; &quot;subject&quot;:&quot;python&quot;, &quot;level&quot;:3 &#125;,&#123; &quot;subject&quot;:&quot;web&quot;, &quot;level&quot;:1 &#125;,&#123; &quot;subject&quot;:&quot;sql&quot;, &quot;level&quot;:2 &#125;,])\n\nsize:50 옵션 제한에 걸려 4개의 데이터가 info2에 입력된다.\n  1234567db.info2.insert( [&#123; &quot;subject&quot;:&quot;python&quot;, &quot;level&quot;:3 &#125;,&#123; &quot;subject&quot;:&quot;web&quot;, &quot;level&quot;:1 &#125;,&#123; &quot;subject&quot;:&quot;sql&quot;, &quot;level&quot;:2 &#125;,&#123; &quot;subject&quot;:&quot;python&quot;, &quot;level&quot;:3 &#125;,&#123; &quot;subject&quot;:&quot;web&quot;, &quot;level&quot;:1 &#125;,])\n\ninfo collection 생성하면서 document 추가\n  12345678db.info.insert( [&#123; &quot;subject&quot;:&quot;python&quot;, &quot;level&quot;:3 &#125;,&#123; &quot;subject&quot;:&quot;web&quot;, &quot;level&quot;:1 &#125;,&#123; &quot;subject&quot;:&quot;sql&quot;, &quot;level&quot;:2 &#125;,&#123; &quot;subject&quot;:&quot;java&quot;, &quot;level&quot;:3 &#125;,&#123; &quot;subject&quot;:&quot;html&quot;, &quot;level&quot;:1 &#125;,&#123; &quot;subject&quot;:&quot;css&quot;, &quot;level&quot;:2 &#125;,])\n\n\n\n\n\nDelete Document\n\nlevel2인 데이터 삭제 : 제약조건이 걸려있는 컬렉션의 도큐먼트는 삭제가 안됩니다.  1db.info.remove( &#123;level:2&#125; )\n\n\n\nFind\n  ref : https://docs.mongodb.com/manual/reference/method/db.collection.find/index.html\n\nsyntax\n  1db.collection.find(query, projection)\n  query : document 조회 조건을 설정. 모든 document를 조회 할때는 ({})를 사용\n  projection : document를 조회할때 보여지는 필드(컬럼)를 정의\n\nquery\n\n기본 document 조회\n\ninfo 컬렉션에 있는 모든 document 조회\n  12db.info.find()db.getCollection(&#x27;info&#x27;).find(&#123;&#125;)\n\nsubject가 python인 document 조회\n  1db.info.find(&#123;&quot;subject&quot;: &quot;python&quot;&#125;)\n\n\n비교 연산자\n  ref : https://docs.mongodb.com/v3.6/reference/operator/query/\n\nlevel이 2 이하인 document를 조회\n  1db.info.find(&#123;&quot;level&quot;: &#123;$lte: 2&#125; &#125;)\n\nlevel이 3 이상인 document를 조회\n  1db.info.find(&#123;&quot;level&quot;: &#123;$gte: 3&#125; &#125;)\n\nsubject가 java와 python을 포함하는 document 조회\n  1db.info.find( &#123;&quot;subject&quot;: &#123;$in: [&quot;java&quot;, &quot;python&quot;]&#125;&#125; )\n\n\n논리 연산자\n\n$or : 조건중 하나라도 true이면 true\n$and : 모든 조건이 true이면 true\n$not : 조건중 하나라도 false이면 true\n$nor : 모든 조건이 false이면 true (or와 반대 개념)\n\n\nsubject가 python이고 level이 3이상인 document 조회\n  1db.info.find(&#123; $and: [ &#123; &quot;subject&quot;:&quot;python&quot; &#125;, &#123; &quot;level&quot;: &#123;$gte: 3&#125; &#125; ] &#125;)\n\nsubject가 python이아니고 level이 1이하가 아닌 document 조회\n  1db.info.find(&#123; $nor: [ &#123; &quot;subject&quot;:&quot;python&quot; &#125;, &#123; &quot;level&quot;: &#123;$lte: 1&#125; &#125; ] &#125;)\n\nlevel이 2보다 크지 않은 document 조회 (2 포함)\n  1db.info.find(&#123; &quot;level&quot;: &#123; $not: &#123;$gt: 2&#125; &#125; &#125;)\n\n\n\n$where\n\n$where 연산자를 사용하면 자바스크립트 표현식 사용이 가능합니다.\n\nlevel이 1인 document 조회\n  1db.info.find( &#123; $where: &quot;this.level == 1&quot;&#125; )\n\n\n\n\n\nprojection\n  document를 조회할때 보여지는 필드(컬럼)를 정의합니다.\n\nBasic\n\nsubject와 comments만 출력되도록 find\n\n설정을 true 값을 설정하던가 false 값을 설정합니다. ( _id는 따로 설정을 안하면 true )123db.info.find(&#123;&#125;,&#123;&quot;_id&quot;:false, &quot;level&quot;:false&#125;)db.info.find(&#123;&#125;,&#123;&quot;subject&quot;:true, &quot;level&quot;:true&#125;)db.info.find(&#123;&#125;,&#123;&quot;_id&quot;:false, &quot;subject&quot;:true, &quot;level&quot;:true&#125;)\n\n\n\n\n\n\n\nFind Method\n  find method를 사용하면 find를 사용한 document의 결과를 가공하여 출력할수 있습니다.\n\nsort\n\ndocument를 정렬시켜 줍니다.\n‘sort({key: value})’ 와 같은 포멧으로 사용을 하며 key는 정렬할 필드명을 작성하고, value는 오름차순은 1, 내림차순을 -1을 넣어주면 됩니다.\n\n\ninfo 컬렉션의 document를 level 오름차순으로 정렬\n  1db.info.find().sort(&#123;&quot;level&quot;:1&#125;)\n\ninfo 컬렉션의 document를 level 내림차순으로 정렬\n  1db.info.find().sort(&#123;&quot;level&quot;:-1&#125;)\n\nlevel을 기준으로 내림차순으로 정렬한 후 subject를 기준으로 오름차순으로 정렬\n  1db.info.find().sort(&#123;&quot;level&quot;:-1, &quot;subject&quot;:1&#125;)\n\nlimit\n\nlimit을 사용하면 document출력 결과의 수룰 제한할수 있습니다.\n\ndocument의 결과를 3개 까지만 출력\n  1db.info.find().limit(3)\n\ndocument의 결과를 level로 내림차순으로 정렬하고 3개까지만 출력\n  1db.info.find().sort(&#123;&quot;level&quot;:-1&#125;).limit(3)\n\n\n\nskip\n  skip을 검색한 document의 결과의 시작부분을 설정할때 사용합니다.\n\ndocument를 3번째 부터 출력\n  1db.info.find().skip(2)\n\nlimit, skip을 함께 사용해서 mysql의 limit과 같이 사용할수 있습니다.\n\n\n\n\n\nupdate\n  ref : https://docs.mongodb.com/manual/reference/command/update/index.html\n\nsyntax\n  1db.collection.update( query, update, &#123; upsert: &lt;bool&gt;, multi: &lt;bool&gt; &#125;)\n\n\nupsert : insert와 update의 합성어 (데이터가 있으면 update, 없으면 insert 한다는 의미)\n\nmulti : true로 설정되면 여려개의 document를 수정합니다. 기본값은 false\n\n\n\n특정 document를 새로운 document로 수정하기\n  12345678910db.info.update(&#123; &quot;subject&quot;: &quot;html&quot; &#125;,&#123; &quot;subject&quot;: &quot;sass&quot;, &quot;level&quot;:2&#125;)db.info.update(&#123; &quot;subject&quot;: &quot;less&quot; &#125;,&#123; &quot;subject&quot;: &quot;less&quot;, &quot;level&quot;: 2&#125;,&#123; &quot;upsert&quot;: true&#125;)\n\n\n$set, $unset\n\n$set을 사용하면 특정 document의 필드를 수정할수 있습니다.\n\n$unset를 사용하면 특정 document의 필드 제거할수 있습니다.\n\npython의 level을 3으로 수정 (한개의 데이터만 수정)\n  1db.info.update( &#123; subject: &quot;java&quot; &#125;, &#123; $set: &#123; level: 4 &#125; &#125; )\n\nlevel 2를 level 1로 수정 (여러개의 데이터 수정)\n  12345db.info.update(&#123; level: 2 &#125;,&#123; $set: &#123; level: 1 &#125; &#125;,&#123; multi: true &#125;)\n\nsubject가 sass인 document의 level필드 삭제\n  1234db.info.update(&#123; subject: &quot;sass&quot; &#125;,&#123; $unset: &#123;level: 1&#125; &#125;)\n  level: 1의 1은 true를 의미합니다.\n\nlevel이 2이하인 데이터를 1로 수정하기\n  12345db.info.update(&#123; level: &#123;$lte: 2&#125; &#125;, &#123; $set: &#123;level: 1&#125; &#125;,&#123; multi: 1 &#125;)\n\nlevel이 없는 데이터 level 추가하기\n  12345db.info.update(&#123; level: &#123;$exists: false&#125; &#125;,&#123; $set: &#123;level: 2&#125; &#125;,&#123; multi: 1 &#125;)\n\n\n\nFunction\n  자바스크립트 문법으로 함수 작성이 가능합니다.\n\nskip 함수\n  12345var showSkip = function(start)&#123;return db.info.find().skip(start)&#125;showSkip(3)\n\n\n\n\n","dateCreated":"2020-10-29T20:39:35+09:00","dateModified":"2020-10-29T21:26:28+09:00","datePublished":"2020-10-29T20:39:35+09:00","description":"","headline":"DATABASE-NoSQL(MongoDB)","image":[],"mainEntityOfPage":{"@type":"WebPage","@id":"https://kimyechan.github.io/2020/10/29/DATABASE-NoSQL-MongoDB/"},"publisher":{"@type":"Organization","name":"Yechan Kim","sameAs":["https://github.com/","http://stackoverflow.com/users","https://twitter.com/","https://facebook.com/","https://plus.google.com/","https://www.linkedin.com/profile/","mailto"]},"url":"https://kimyechan.github.io/2020/10/29/DATABASE-NoSQL-MongoDB/"}</script>
    <meta name="description" content="MongoDBMongoDB Setting MongoDB 설치 및 설정  1234567891011121314sudo apt update -ysudo apt upgrade -ysudo apt install -y mongodbsudo systemctl status mongodbsudo vi &#x2F;etc&#x2F;mongodb.conf# bind_ip &#x3D; 0.0.0.0# au">
<meta property="og:type" content="blog">
<meta property="og:title" content="DATABASE-NoSQL(MongoDB)">
<meta property="og:url" content="https://kimyechan.github.io/2020/10/29/DATABASE-NoSQL-MongoDB/index.html">
<meta property="og:site_name" content="Java Server Developer">
<meta property="og:description" content="MongoDBMongoDB Setting MongoDB 설치 및 설정  1234567891011121314sudo apt update -ysudo apt upgrade -ysudo apt install -y mongodbsudo systemctl status mongodbsudo vi &#x2F;etc&#x2F;mongodb.conf# bind_ip &#x3D; 0.0.0.0# au">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2020-10-29T11:39:35.000Z">
<meta property="article:modified_time" content="2020-10-29T12:26:28.082Z">
<meta property="article:author" content="Yechan Kim">
<meta name="twitter:card" content="summary">
    
    
        
    
    
    
    
    
    <!--STYLES-->
    
<link rel="stylesheet" href="/assets/css/all.css">

    
<link rel="stylesheet" href="/assets/css/jquery.fancybox.css">

    
<link rel="stylesheet" href="/assets/css/thumbs.css">

    
<link rel="stylesheet" href="/assets/css/tranquilpeak.css">

    <!--STYLES END-->
    

    

    
        
    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    

<header id="header" data-behavior="5">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a
            class="header-title-link"
            href="/"
            aria-label=""
        >
            Java Server Developer
        </a>
    </div>
    
        
            <a
                class="header-right-picture "
                href="#about"
                aria-label="Open the link: /#about"
            >
        
        
        </a>
    
</header>

            <!-- Define author's picture -->


<nav id="sidebar" data-behavior="5">
    <div class="sidebar-container">
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/"
                            
                            rel="noopener"
                            title="Home"
                        >
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-categories"
                            
                            rel="noopener"
                            title="Categories"
                        >
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Categories</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-tags"
                            
                            rel="noopener"
                            title="Tags"
                        >
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Tags</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-archives"
                            
                            rel="noopener"
                            title="Archives"
                        >
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Archives</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link open-algolia-search"
                            href="#search"
                            
                            rel="noopener"
                            title="Search"
                        >
                        <i class="sidebar-button-icon fa fa-search" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Search</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="#about"
                            
                            rel="noopener"
                            title="About"
                        >
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">About</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://github.com/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="GitHub"
                        >
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="http://stackoverflow.com/users"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Stack Overflow"
                        >
                        <i class="sidebar-button-icon fab fa-stack-overflow" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Stack Overflow</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://twitter.com/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Twitter"
                        >
                        <i class="sidebar-button-icon fab fa-twitter" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Twitter</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://facebook.com/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Facebook"
                        >
                        <i class="sidebar-button-icon fab fa-facebook" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Facebook</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://plus.google.com/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Google +"
                        >
                        <i class="sidebar-button-icon fab fa-google-plus" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Google +</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://www.linkedin.com/profile/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="LinkedIn"
                        >
                        <i class="sidebar-button-icon fab fa-linkedin" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">LinkedIn</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/mailto"
                            
                            rel="noopener"
                            title="Mail"
                        >
                        <i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Mail</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/atom.xml"
                            
                            rel="noopener"
                            title="RSS"
                        >
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="5"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title">
            DATABASE-NoSQL(MongoDB)
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2020-10-29T20:39:35+09:00">
	
		    Oct 29, 2020
    	
    </time>
    
</div>

    
</div>

    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <h1 id="MongoDB"><a href="#MongoDB" class="headerlink" title="MongoDB"></a>MongoDB</h1><h2 id="MongoDB-Setting"><a href="#MongoDB-Setting" class="headerlink" title="MongoDB Setting"></a>MongoDB Setting</h2><ol>
<li><p>MongoDB 설치 및 설정</p>
 <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update -y</span><br><span class="line">sudo apt upgrade -y</span><br><span class="line">sudo apt install -y mongodb</span><br><span class="line">sudo systemctl status mongodb</span><br><span class="line">sudo vi /etc/mongodb.conf</span><br><span class="line"><span class="meta">#</span><span class="bash"> bind_ip = 0.0.0.0</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> auth = <span class="literal">true</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 패스워드 설정</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> mongo</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> use admin</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> db.createUser(&#123; user: <span class="string">&quot;rada&quot;</span>, <span class="built_in">pwd</span>: <span class="string">&quot;radapw&quot;</span>, roles: [ <span class="string">&quot;root&quot;</span> ] &#125;)</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> quit()</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo systemctl restart mongodb</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> aws 인스턴스 27017 포트 접속 허용</span></span><br></pre></td></tr></table></figure>

<p> mongo 명령어를 입력하면 mongo shell에 접속됩니다.</p>
</li>
<li><p>Install Robomongo</p>
<p> <a target="_blank" rel="noopener" href="https://robomongo.org/">https://robomongo.org/</a> 페이지에서 경로에서 ROBO 3T 다운로드 후 설치 합니다.</p>
</li>
<li><p>Connection</p>
<p> MongoDB Connections에서 ip를 입력하여 서버의 mongoDB에 접속합니다.</p>
</li>
</ol>
<hr>
<h2 id="문법"><a href="#문법" class="headerlink" title="문법"></a>문법</h2><p>ref : <a target="_blank" rel="noopener" href="https://docs.mongodb.com/v3.6/reference/">https://docs.mongodb.com/v3.6/reference/</a></p>
<ul>
<li><p>Create Database</p>
<ul>
<li><p>mongo 라는 이름의 데이터 베이스 생성</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> mongo</span><br></pre></td></tr></table></figure>
</li>
<li><p>현재 사용중인 데이터 베이스 확인</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db</span><br></pre></td></tr></table></figure>
</li>
<li><p>database list 확인</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> dbs</span><br></pre></td></tr></table></figure>
<ul>
<li>데이터 베에스를 생성후에 최소 1개이상의 document를 추가해야 생성된 데이터 베이스가 보인다</li>
</ul>
</li>
</ul>
</li>
</ul>
<pre><code>- document 생성
    &lt;!--hexoPostRenderEscape:&lt;figure class=&quot;highlight sql&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;use&lt;/span&gt; mongo&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;db.user.insert(&amp;#123;&lt;span class=&quot;string&quot;&gt;&amp;quot;name&amp;quot;&lt;/span&gt;:&lt;span class=&quot;string&quot;&gt;&amp;quot;alice&amp;quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&amp;quot;age&amp;quot;&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;20&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&amp;quot;email&amp;quot;&lt;/span&gt;:&lt;span class=&quot;string&quot;&gt;&amp;quot;alice@gmail.com&amp;quot;&lt;/span&gt;&amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;:hexoPostRenderEscape--&gt;</code></pre>
<ul>
<li><p>Delete Database</p>
<ul>
<li>현재 사용중인 데이터 베이스 삭제  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.dropDatabase()</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>Create Collection</p>
<p>  refer <a target="_blank" rel="noopener" href="https://docs.mongodb.com/v3.6/reference/method/db.createCollection/">https://docs.mongodb.com/v3.6/reference/method/db.createCollection/</a></p>
<ul>
<li><p>syntax</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.createCollection(collection 이름, [option])</span><br></pre></td></tr></table></figure>
</li>
<li><p>option</p>
<ul>
<li>capped : true로 설정하면 collection의 최대 용량을 설정 (최대 용량의 크기는 size 옵션으로 설정), 설정된 최대용량 이상으로 데이터가 입력되면 오래된 데이터 부터 자동으로 삭제됩니다.</li>
<li>autoIndex : true로 설정하면 _id 필드에 index가 자동으로 생성됩니다.</li>
<li>size : 숫자 데이터를 사용하며 collection의 최대 사이즈를 byte 단위로 지정</li>
<li>max : 숫자 데이터를 사용하며 최대 document 갯수를 설정</li>
</ul>
</li>
<li><p>user 컬렉션을 생성</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.createCollection(&quot;user&quot;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>autoIndex와 max 옵션을 설정하여 info 컬렉션을 생성</p>
  <figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">db.createCollection(&quot;info1&quot;, &#123; autoIndexId: true, capped: true, size: 500, max:5 &#125;)</span><br><span class="line">db.createCollection(&quot;info2&quot;, &#123; autoIndexId: true, capped: true, size: 50, max:5 &#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>createCollection을 사용하지 않고 article 컬렉션을 생성</p>
  <figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.articles.insert( &#123;&quot;title&quot;:&quot;data science&quot;, &quot;contents&quot;:&quot;mongodb&quot; &#125; )</span><br></pre></td></tr></table></figure>
</li>
<li><p>컬렉션 리스트 확인</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> collections</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>Delete Collection</p>
<ul>
<li>articles 컬렉션 삭제  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.articles.drop()</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>Make Document</p>
<ul>
<li><p>syntax</p>
  <figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.&lt;collection_name&gt;.insert(&lt;document&gt;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>info 컬렉션에 document 추가</p>
  <figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">db.info1.insert(&#123; &quot;subject&quot;:&quot;python&quot;, &quot;level&quot;:3 &#125;)</span><br><span class="line">db.info1.insert(&#123; &quot;subject&quot;:&quot;web&quot;, &quot;level&quot;:1 &#125;)</span><br><span class="line">db.info1.insert(&#123; &quot;subject&quot;:&quot;sql&quot;, &quot;level&quot;:2 &#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>한번에 여러개의 document 추가</p>
<ul>
<li><p>max:5 옵션 제한에 걸려 5개의 데이터가 info1에 들어간다.</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">db.info1.insert( [</span><br><span class="line">&#123; &quot;subject&quot;:&quot;python&quot;, &quot;level&quot;:3 &#125;,</span><br><span class="line">&#123; &quot;subject&quot;:&quot;web&quot;, &quot;level&quot;:1 &#125;,</span><br><span class="line">&#123; &quot;subject&quot;:&quot;sql&quot;, &quot;level&quot;:2 &#125;,</span><br><span class="line">&#123; &quot;subject&quot;:&quot;python&quot;, &quot;level&quot;:3 &#125;,</span><br><span class="line">&#123; &quot;subject&quot;:&quot;web&quot;, &quot;level&quot;:1 &#125;,</span><br><span class="line">&#123; &quot;subject&quot;:&quot;sql&quot;, &quot;level&quot;:2 &#125;,</span><br><span class="line">])</span><br></pre></td></tr></table></figure>
</li>
<li><p>size:50 옵션 제한에 걸려 4개의 데이터가 info2에 입력된다.</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">db.info2.insert( [</span><br><span class="line">&#123; &quot;subject&quot;:&quot;python&quot;, &quot;level&quot;:3 &#125;,</span><br><span class="line">&#123; &quot;subject&quot;:&quot;web&quot;, &quot;level&quot;:1 &#125;,</span><br><span class="line">&#123; &quot;subject&quot;:&quot;sql&quot;, &quot;level&quot;:2 &#125;,</span><br><span class="line">&#123; &quot;subject&quot;:&quot;python&quot;, &quot;level&quot;:3 &#125;,</span><br><span class="line">&#123; &quot;subject&quot;:&quot;web&quot;, &quot;level&quot;:1 &#125;,</span><br><span class="line">])</span><br></pre></td></tr></table></figure>
</li>
<li><p>info collection 생성하면서 document 추가</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">db.info.insert( [</span><br><span class="line">&#123; &quot;subject&quot;:&quot;python&quot;, &quot;level&quot;:3 &#125;,</span><br><span class="line">&#123; &quot;subject&quot;:&quot;web&quot;, &quot;level&quot;:1 &#125;,</span><br><span class="line">&#123; &quot;subject&quot;:&quot;sql&quot;, &quot;level&quot;:2 &#125;,</span><br><span class="line">&#123; &quot;subject&quot;:&quot;java&quot;, &quot;level&quot;:3 &#125;,</span><br><span class="line">&#123; &quot;subject&quot;:&quot;html&quot;, &quot;level&quot;:1 &#125;,</span><br><span class="line">&#123; &quot;subject&quot;:&quot;css&quot;, &quot;level&quot;:2 &#125;,</span><br><span class="line">])</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
<li><p>Delete Document</p>
<ul>
<li>level2인 데이터 삭제 : 제약조건이 걸려있는 컬렉션의 도큐먼트는 삭제가 안됩니다.  <figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.info.remove( &#123;level:2&#125; )</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>Find</p>
<p>  ref : <a target="_blank" rel="noopener" href="https://docs.mongodb.com/manual/reference/method/db.collection.find/index.html">https://docs.mongodb.com/manual/reference/method/db.collection.find/index.html</a></p>
<ul>
<li><p>syntax</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.collection.find(query, projection)</span><br></pre></td></tr></table></figure>
<p>  query : document 조회 조건을 설정. 모든 document를 조회 할때는 ({})를 사용</p>
<p>  projection : document를 조회할때 보여지는 필드(컬럼)를 정의</p>
</li>
<li><p>query</p>
<ul>
<li><p>기본 document 조회</p>
<ul>
<li><p>info 컬렉션에 있는 모든 document 조회</p>
  <figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">db.info.find()</span><br><span class="line">db.getCollection(&#x27;info&#x27;).find(&#123;&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>subject가 python인 document 조회</p>
  <figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.info.find(&#123;&quot;subject&quot;: &quot;python&quot;&#125;)</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>비교 연산자</p>
<p>  ref : <a target="_blank" rel="noopener" href="https://docs.mongodb.com/v3.6/reference/operator/query/">https://docs.mongodb.com/v3.6/reference/operator/query/</a></p>
<ul>
<li><p>level이 2 이하인 document를 조회</p>
  <figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.info.find(&#123;&quot;level&quot;: &#123;$lte: 2&#125; &#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>level이 3 이상인 document를 조회</p>
  <figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.info.find(&#123;&quot;level&quot;: &#123;$gte: 3&#125; &#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>subject가 java와 python을 포함하는 document 조회</p>
  <figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.info.find( &#123;&quot;subject&quot;: &#123;$in: [&quot;java&quot;, &quot;python&quot;]&#125;&#125; )</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>논리 연산자</p>
<ol>
<li>$or : 조건중 하나라도 true이면 true</li>
<li>$and : 모든 조건이 true이면 true</li>
<li>$not : 조건중 하나라도 false이면 true</li>
<li>$nor : 모든 조건이 false이면 true (or와 반대 개념)</li>
</ol>
<ul>
<li><p>subject가 python이고 level이 3이상인 document 조회</p>
  <figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.info.find(&#123; $and: [ &#123; &quot;subject&quot;:&quot;python&quot; &#125;, &#123; &quot;level&quot;: &#123;$gte: 3&#125; &#125; ] &#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>subject가 python이아니고 level이 1이하가 아닌 document 조회</p>
  <figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.info.find(&#123; $nor: [ &#123; &quot;subject&quot;:&quot;python&quot; &#125;, &#123; &quot;level&quot;: &#123;$lte: 1&#125; &#125; ] &#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>level이 2보다 크지 않은 document 조회 (2 포함)</p>
  <figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.info.find(&#123; &quot;level&quot;: &#123; $not: &#123;$gt: 2&#125; &#125; &#125;)</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>$where</p>
<ul>
<li><p>$where 연산자를 사용하면 자바스크립트 표현식 사용이 가능합니다.</p>
</li>
<li><p>level이 1인 document 조회</p>
  <figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.info.find( &#123; $where: &quot;this.level == 1&quot;&#125; )</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
<li><p>projection</p>
<p>  document를 조회할때 보여지는 필드(컬럼)를 정의합니다.</p>
<ul>
<li><p>Basic</p>
</li>
<li><p>subject와 comments만 출력되도록 find</p>
<ul>
<li>설정을 true 값을 설정하던가 false 값을 설정합니다. ( _id는 따로 설정을 안하면 true )<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">db.info.find(&#123;&#125;,&#123;&quot;_id&quot;:false, &quot;level&quot;:false&#125;)</span><br><span class="line">db.info.find(&#123;&#125;,&#123;&quot;subject&quot;:true, &quot;level&quot;:true&#125;)</span><br><span class="line">db.info.find(&#123;&#125;,&#123;&quot;_id&quot;:false, &quot;subject&quot;:true, &quot;level&quot;:true&#125;)</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>Find Method</p>
<p>  find method를 사용하면 find를 사용한 document의 결과를 가공하여 출력할수 있습니다.</p>
<ul>
<li><p>sort</p>
<ul>
<li>document를 정렬시켜 줍니다.</li>
<li>‘sort({key: value})’ 와 같은 포멧으로 사용을 하며 key는 정렬할 필드명을 작성하고, value는 오름차순은 1, 내림차순을 -1을 넣어주면 됩니다.</li>
</ul>
</li>
<li><p>info 컬렉션의 document를 level 오름차순으로 정렬</p>
  <figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.info.find().sort(&#123;&quot;level&quot;:1&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>info 컬렉션의 document를 level 내림차순으로 정렬</p>
  <figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.info.find().sort(&#123;&quot;level&quot;:-1&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>level을 기준으로 내림차순으로 정렬한 후 subject를 기준으로 오름차순으로 정렬</p>
  <figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.info.find().sort(&#123;&quot;level&quot;:-1, &quot;subject&quot;:1&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>limit</p>
<ul>
<li><p>limit을 사용하면 document출력 결과의 수룰 제한할수 있습니다.</p>
</li>
<li><p>document의 결과를 3개 까지만 출력</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.info.find().limit(3)</span><br></pre></td></tr></table></figure>
</li>
<li><p>document의 결과를 level로 내림차순으로 정렬하고 3개까지만 출력</p>
  <figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.info.find().sort(&#123;&quot;level&quot;:-1&#125;).limit(3)</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>skip</p>
<p>  skip을 검색한 document의 결과의 시작부분을 설정할때 사용합니다.</p>
<ul>
<li><p>document를 3번째 부터 출력</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.info.find().skip(2)</span><br></pre></td></tr></table></figure>

<p><code>limit, skip을 함께 사용해서 mysql의 limit과 같이 사용할수 있습니다.</code></p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>update</p>
<p>  ref : <a target="_blank" rel="noopener" href="https://docs.mongodb.com/manual/reference/command/update/index.html">https://docs.mongodb.com/manual/reference/command/update/index.html</a></p>
<ul>
<li><p>syntax</p>
  <figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.collection.update( query, update, &#123; upsert: &lt;bool&gt;, multi: &lt;bool&gt; &#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li><p>upsert : insert와 update의 합성어 (데이터가 있으면 update, 없으면 insert 한다는 의미)</p>
</li>
<li><p>multi : true로 설정되면 여려개의 document를 수정합니다. 기본값은 false</p>
</li>
</ul>
</li>
<li><p>특정 document를 새로운 document로 수정하기</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">db.info.update(</span><br><span class="line">&#123; &quot;subject&quot;: &quot;html&quot; &#125;,</span><br><span class="line">&#123; &quot;subject&quot;: &quot;sass&quot;, &quot;level&quot;:2&#125;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">db.info.update(</span><br><span class="line">&#123; &quot;subject&quot;: &quot;less&quot; &#125;,</span><br><span class="line">&#123; &quot;subject&quot;: &quot;less&quot;, &quot;level&quot;: 2&#125;,</span><br><span class="line">&#123; &quot;upsert&quot;: true&#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>$set, $unset</p>
<ul>
<li><p>$set을 사용하면 특정 document의 필드를 수정할수 있습니다.</p>
</li>
<li><p>$unset를 사용하면 특정 document의 필드 제거할수 있습니다.</p>
</li>
<li><p>python의 level을 3으로 수정 (한개의 데이터만 수정)</p>
  <figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.info.update( &#123; subject: &quot;java&quot; &#125;, &#123; $set: &#123; level: 4 &#125; &#125; )</span><br></pre></td></tr></table></figure>
</li>
<li><p>level 2를 level 1로 수정 (여러개의 데이터 수정)</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">db.info.update(</span><br><span class="line">&#123; level: 2 &#125;,</span><br><span class="line">&#123; $set: &#123; level: 1 &#125; &#125;,</span><br><span class="line">&#123; multi: true &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
</li>
<li><p>subject가 sass인 document의 level필드 삭제</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">db.info.update(</span><br><span class="line">&#123; subject: &quot;sass&quot; &#125;,</span><br><span class="line">&#123; $unset: &#123;level: 1&#125; &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>  <code>level: 1의 1은 true를 의미합니다.</code></p>
</li>
<li><p>level이 2이하인 데이터를 1로 수정하기</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">db.info.update(</span><br><span class="line">&#123; level: &#123;$lte: 2&#125; &#125;, </span><br><span class="line">&#123; $set: &#123;level: 1&#125; &#125;,</span><br><span class="line">&#123; multi: 1 &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
</li>
<li><p>level이 없는 데이터 level 추가하기</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">db.info.update(</span><br><span class="line">&#123; level: &#123;$exists: false&#125; &#125;,</span><br><span class="line">&#123; $set: &#123;level: 2&#125; &#125;,</span><br><span class="line">&#123; multi: 1 &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>Function</p>
<p>  자바스크립트 문법으로 함수 작성이 가능합니다.</p>
<ul>
<li><p>skip 함수</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var showSkip = function(<span class="keyword">start</span>)&#123;</span><br><span class="line"><span class="keyword">return</span> db.info.find().skip(<span class="keyword">start</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">showSkip(<span class="number">3</span>)</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>

            


        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    <a
                        class="post-action-btn btn btn--disabled"
                        aria-hidden="true"
                    >
                        
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2020/10/28/Java-Advanced10-Multi-Thread/"
                    data-tooltip="Java-Advanced10-Multi Thread"
                    aria-label="NEXT: Java-Advanced10-Multi Thread"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Share this post"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://kimyechan.github.io/2020/10/29/DATABASE-NoSQL-MongoDB/"
                    title="Share on Facebook"
                    aria-label="Share on Facebook"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://kimyechan.github.io/2020/10/29/DATABASE-NoSQL-MongoDB/"
                    title="Share on Twitter"
                    aria-label="Share on Twitter"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://plus.google.com/share?url=https://kimyechan.github.io/2020/10/29/DATABASE-NoSQL-MongoDB/"
                    title="Share on Google+"
                    aria-label="Share on Google+"
                >
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
                <li class="post-action">
                    <a
                        class="post-action-btn btn btn--default"
                        href="#disqus_thread"
                        aria-label="Leave a comment"
                    >
                        <i class="fa fa-comment"></i>
                    </a>
                </li>
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
                <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2020 Yechan Kim. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="5">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    <a
                        class="post-action-btn btn btn--disabled"
                        aria-hidden="true"
                    >
                        
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2020/10/28/Java-Advanced10-Multi-Thread/"
                    data-tooltip="Java-Advanced10-Multi Thread"
                    aria-label="NEXT: Java-Advanced10-Multi Thread"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Share this post"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://kimyechan.github.io/2020/10/29/DATABASE-NoSQL-MongoDB/"
                    title="Share on Facebook"
                    aria-label="Share on Facebook"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://kimyechan.github.io/2020/10/29/DATABASE-NoSQL-MongoDB/"
                    title="Share on Twitter"
                    aria-label="Share on Twitter"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://plus.google.com/share?url=https://kimyechan.github.io/2020/10/29/DATABASE-NoSQL-MongoDB/"
                    title="Share on Google+"
                    aria-label="Share on Google+"
                >
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
                <li class="post-action">
                    <a
                        class="post-action-btn btn btn--default"
                        href="#disqus_thread"
                        aria-label="Leave a comment"
                    >
                        <i class="fa fa-comment"></i>
                    </a>
                </li>
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                
    <div id="share-options-bar" class="share-options-bar" data-behavior="5">
        <i id="btn-close-shareoptions" class="fa fa-times"></i>
        <ul class="share-options">
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://www.facebook.com/sharer/sharer.php?u=https://kimyechan.github.io/2020/10/29/DATABASE-NoSQL-MongoDB/"
                        aria-label="Share on Facebook"
                    >
                        <i class="fab fa-facebook" aria-hidden="true"></i><span>Share on Facebook</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://twitter.com/intent/tweet?text=https://kimyechan.github.io/2020/10/29/DATABASE-NoSQL-MongoDB/"
                        aria-label="Share on Twitter"
                    >
                        <i class="fab fa-twitter" aria-hidden="true"></i><span>Share on Twitter</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://plus.google.com/share?url=https://kimyechan.github.io/2020/10/29/DATABASE-NoSQL-MongoDB/"
                        aria-label="Share on Google+"
                    >
                        <i class="fab fa-google-plus" aria-hidden="true"></i><span>Share on Google+</span>
                    </a>
                </li>
            
        </ul>
    </div>


            
        </div>
        


<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <h4 id="about-card-name">Yechan Kim</h4>
        
            <div id="about-card-bio"><p>author.bio</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>author.job</p>

            </div>
        
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->

<script src="/assets/js/jquery.js"></script>


<script src="/assets/js/jquery.fancybox.js"></script>


<script src="/assets/js/thumbs.js"></script>


<script src="/assets/js/tranquilpeak.js"></script>

<!--SCRIPTS END-->


    
        <script>
          var disqus_config = function() {
            this.page.url = 'https://kimyechan.github.io/2020/10/29/DATABASE-NoSQL-MongoDB/';
              
            this.page.identifier = '2020/10/29/DATABASE-NoSQL-MongoDB/';
              
          };
          (function() {
            var d = document, s = d.createElement('script');
            var disqus_shortname = 'xhandev';
            s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
          })();
        </script>
    




    </body>
</html>
