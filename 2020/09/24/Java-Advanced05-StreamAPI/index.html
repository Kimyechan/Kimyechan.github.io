
<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Java Server Developer">
    <title>Java-Advanced05-StreamAPI - Java Server Developer</title>
    <meta name="author" content="Yechan Kim">
    
    
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Yechan Kim","sameAs":["https://github.com/","http://stackoverflow.com/users","https://twitter.com/","https://facebook.com/","https://plus.google.com/","https://www.linkedin.com/profile/","mailto"]},"articleBody":"스트림 API (Stream API)스트림 API란\nJava 8에서 추가된 java.util.stream 패키지\n컬렉션의 요소를 람다식으로 처리할 수 있도록 하는 함수형 프로그래밍 도구\n\n스트림 API의 특징\n간결한 코드 작성\n\n1234567891011// JAVA 7List&lt;String&gt; list = Arrays.asList(&quot;fast&quot;, &quot;campus&quot;, &quot;rocks&quot;);List&lt;String&gt; newList = new ArrayList&lt;&gt;();for (String s: list) &#123;    newList.add(s.toUpperCase());&#125;for (String s: newList) &#123;    System.out.println(s);&#125;\n\n1234// JAVA 8List&lt;String&gt; list = Arrays.asList(&quot;fast&quot;, &quot;campus&quot;, &quot;rocks&quot;);Stream&lt;String&gt; stream = list.stream();stream.map(String::toUpperCase).forEach(System.out::println);\n\n\n데이터 소스에 대한 공통의 접근 방식 제공\n\nList, Set, Array 등 다양한 경우에 대해 표준화된 방식으로 데이터 접근 가능\n특히 Stream::sorted() 메소드는 공통된 정렬 방식을 제공\n\n\n중간 처리와 최종 처리를 지원\n\nMapping, Filtering, Sorting 등 중간 처리 지원 (여러개 사용 가능)\nIteration, Count, Average, Summation, Reduce 등 최종 처리 지원 (마지막에 하나 사용 가능)\n\n\n데이터 소스와 처리 결과를 분리\n\n원본 데이터를 유지하여 처리에 의한 부작용 방지\n처리 결과를 새로운 컬렉션으로 저장 가능\n\n\n\n스트림 API를 이용한 자료 처리스트림 API의 종류\n\n\n종류\n처리 대상\n\n\n\nStream&lt;T&gt;\n일반적인 객체를 처리\n\n\nIntStream\n기본 자료형 int를 처리\n\n\nLongStream\n기본 자료형 long을 처리\n\n\nDoubleStream\n기본 자료형 double을 처리\n\n\n스트림 객체 생성 메소드\n데이터 소스로부터 스트림 생성\n\n\n\n데이터 소스\n메소드\n\n\n\nCollection\ndefault Stream&lt;E&gt; stream()\n\n\nCollection\ndefault Stream&lt;E&gt; parallelStream()\n\n\nArrays\npublic static &lt;T&gt; Stream&lt;T&gt; stream(T[] array)\n\n\nArrays\npublic static &lt;T&gt; Stream&lt;T&gt; of(T ... values)\n\n\nArrays\npublic static IntStream stream(int[] array)\n\n\nArrays\npublic static IntStream of(int ... values)\n\n\nArrays\npublic static LongStream stream(long[] array)\n\n\nArrays\npublic static LongStream of(long ... values)\n\n\nArrays\npublic static DoubleStream stream(double[] array)\n\n\nArrays\npublic static DoubleStream of(double ... values)\n\n\n\n정수 범위와 java.util.Random으로부터 생성\n\n\n\n구분\n메소드\n\n\n\nint형 범위\npublic static IntStream range(int startInclusive, int endExclusive)\n\n\nint형 범위\npublic static IntStream rangeClosed(int startInclusive, int endInclusive)\n\n\nlong형 범위\npublic static LongStream range(long startInclusive, long endExclusive)\n\n\nlong형 범위\npublic static LongStream rangeClosed(long startInclusive, long endInclusive)\n\n\nRandom p형 값\npublic PStream ps()\n\n\nRandom p형 값\npublic PStream ps(long streamSize)\n\n\nRandom p형 값\npublic PStream ps(long streamSize, p origin, p bound)\n\n\n123456IntStream integers = IntStream.range(0, 10);integers.forEach(System.out::println);Random random = new Random();LongStream longs = random.longs(100, 1, 10);System.out.println(longs.average().getAsDouble());\n\n\n\n중간 처리 메소드\n\n\n동작\n메소드\n\n\n\n필터링\ndinstict(), filter()\n\n\n자르기\nskip(), limit()\n\n\n정렬\nsorted()\n\n\n매핑\nflatMap(), flatMapToP(), map(), mapToP(), asDoubleStream(), asLongStream()\n\n\n조회\npeek()\n\n\n필터링필터링은 스트림의 일부 요소를 제거하는 역할을 한다.\n\nStream&lt;T&gt; distict() : 스트림 요소의 중복을 제거한 스트림을 반환\nStream&lt;T&gt; filter(Predicate&lt;? super T&gt; predicate) : Predicate에서 true에 해당하는 요소만으로 구성된 스트림을 반환\n\n자르기자르기는 스트림의 일부 요소를 한번에 생략한다.\n\nStream&lt;T&gt; limit(long maxSize) : 최대 maxSize까지 구성된 스트림을 반환\nStream&lt;T&gt; skip(long n) : 스트림의 상위 n개 요소를 생략한 스트림을 반환\n\n정렬스트림 요소의 compareTo() 또는 입력받은 Comparator를 이용해 정렬\n\nStream&lt;T&gt; sorted() : Comparable 객체를 정렬한 스트림 반환\nStream&lt;T&gt; sorted(Comparator&lt;? super T&gt; comparator) : Comparator를 이용하여 정렬된 스트림 반환\nComparator의 정적 메소드와 기본 메소드\n정적 메소드: naturalOrder(), reverseOrder(), comparing(), comparingP(), nullsFirst(), nullsLast()\n기본 메소드: reversed(), thenComparing(), thenComparingP()\n\n\n\n\n\n매핑Function 인터페이스를 이용해 요소의 값을 변환한다.\n\nmap 계열\n\n&lt;R&gt; Stream&lt;R&gt; map(Function&lt;? super T, ? extends R&gt; mapper) : 기존 스트림의 T 타입 요소를 R 타입으로 변환하여 새로운 스트림 반환\nPStream mapToP(ToPFunction&lt;? super T&gt; mapper) : R이 기본형 타입으로 제한된 map()\n\n\nflatMap 계열\n\n&lt;R&gt; Stream&lt;R&gt; flatMap(Function&lt;? super T, ? extends Stream&lt;? extends R&gt;&gt; mapper) : 스트림의 T 타입 요소가 n개의 R 타입 요소로 매핑된 새로운 스트림을 반환\nPStream flatMapToP(Function&lt;? super T, ? extends PStream&gt; mapper) : R이 기본형 타입으로 제한된 flatMap()\n\n1234List&lt;String&gt; list = Arrays.asList(&quot;java&quot;, &quot;backend&quot;, &quot;best&quot;, &quot;course&quot;);System.out.println(list.stream().flatMap(data -&gt; &#123;    return Arrays.stream(data.split(&quot;&quot;));&#125;).distinct().count());\n\n\n\n조회스트림 처리 과정에 영향을 미치지 않으며, 중간 결과를 확인할 수 있으며 입력받은 스트림과 동일한 스트림을 반환한다.\n\nStream&lt;T&gt; peek(Consumer&lt;? super T&gt; action)\n123456List&lt;String&gt; list = Arrays.asList(&quot;java&quot;, &quot;backend&quot;, &quot;best&quot;, &quot;course&quot;);System.out.println(list.stream().flatMap(data -&gt; &#123;    return Arrays.stream(data.split(&quot;&quot;));&#125;).peek(s -&gt; System.out.println(&quot;flatMap:&quot; + s))  .distinct().peek(s -&gt; System.out.println(&quot;distinct:&quot; + s))  .count());\n\n\n\n최종 처리 메소드\n\n\n동작\n메소드\n\n\n\n매칭\nallMatch(), anyMatch(), noneMatch()\n\n\n수집\ncollect()\n\n\n루핑\nforEach()\n\n\n집계\ncount(), max(), min(), average(), sum(), reduce()\n\n\n조사\nfindFirst(), findAny()\n\n\n매칭Predicate 계열을 이용해 스트림 요소들이 특정 조건에 만족하는지 조사하는 메소드\n\nboolean allMatch(Predicate&lt;? super T&gt; predicate) : 스트림의 모든 요소가 Predicate를 만족하면 true를 반환\nboolean anyMatch(Predicate&lt;? super T&gt; predicate) : 스트림의 요소 중 하나라도 Predicate를 만족하면 true를 반환\nboolean noneMatch(Predicate&lt;? super T&gt; predicate) : 스트림의 요소 중 하나라도 Predicate를 만족하지 않으면 true를 반환\n\n집계\n기본 집계 메소드\n\n기본형 스트림의 통계 : count(), sum(), average(), min(), max()\nT 타입 스트림의 통계 : count(), min(), max() (min, max의 경우 Comparator 필요)\n\n\nreduce() 메소드\n\nOptional&lt;T&gt; reduce(BinaryOperator&lt;T&gt; accumulator) : accumulator를 수행하고 Optional&lt;T&gt; 타입 반환\nT reduce(T identity, BinaryOperator&lt;T&gt; accumulator) : identity를 초기값으로 하여, accumulator를 이용해 집계 연산\n&lt;U&gt; U reduce(U identity, BiFunction&lt;U, ? super T, U&gt; accumulator, BinaryOperator&lt;U&gt; combiner) : combiner를 이용해 병렬 스트림 결합\n\n\njava.util.Optional&lt;T&gt;\n\nT 타입 객체의 null 여부에 따라 다르게 동작하는 Wrapper 클래스\nOptional 클래스의 정적 메소드를 이용해 Optional 객체 생성\npublic static &lt;T&gt; Optional&lt;T&gt; of(T value) : value가 null인 경우 NullPointerException을 발생시키는 Wrapping 메소드\npublic static &lt;T&gt; Optional&lt;T&gt; ofNullable(T value) : value가 null인 경우 empty()의 결과를 리턴하는 Wrapping 메소드\npublic static &lt;T&gt; Optional&lt;T&gt; empty() : 값이 비어있는 Optional 객체를 리턴\n\n\nOptional 객체를 처리하는 메소드\npublic T get() : Optional의 값을 리턴하며, null일 경우 NullPointerException 발생\npublic void ifPresent(Consumer&lt;? super T&gt; consumer) : Optional 값이 null이 아닐 경우 consumer를 이용해 소비한다.\npublic T orElse(T other) : Optional의 값이 null일 경우 other를 반환한다.\npublic T orElseGet(Supplier&lt;? extends T&gt; other) : Optional의 값이 null일 경우 Supplier를 통해 공급받은 값을 반환한다.\npublic &lt;X extends Throwable&gt; T orElseThrow(Supplier&lt;? extends X&gt; exceptionSupplier) throws X : Optional의 값이 null일 경우 exceptionSupplier에서 공급받은 예외를 throw\n\n\n\n\n\n반복forEach() 메소드로 스트림 요소를 순차적으로 Consumer&lt;T&gt;를 이용해 소비\n\nvoid forEach(Comsumer&lt;? super T&gt; action) : 스트림의 각 요소를 action으로 소비\n\n조사첫번째 요소 또는 아무 요소를 조사하는 최종 처리 메소드. 필터링 등으로 인해 스트림에 요소가 남아있는지 확인할 수 있다.\n\nOptional&lt;T&gt; findFirst() : 스트림의 첫 요소 또는 empty Optional 객체를 반환\nOptional&lt;T&gt; findAny() : 스트림의 아무 요소나 가지는 Optional 객체를 반환\n\n수집필요한 요소를 수집하여 새로운 Collection으로 구성하여 반환하는 메소드\n\ncollect() 메소드\n\n&lt;R, A&gt; R collect(Collector&lt;? super T, A, R&gt; collector) : collector를 이용해 새로운 Collection R에 담아 반환\n\nCollectors의 정적 메소드: toList(), toSet(), toCollection(), toMap(), toConcurrentMap()\n\n\n&lt;R, A&gt; R collect(Supplier&lt;R&gt; supplier, BiConsumer&lt;R, ? super T&gt; accumulator, BiConsumer&lt;R, R&gt; combiner) : supplier를 통해 공급된 컨테이너 R에 accumulator를 이용해 T값을 저장. 병렬처리 스트림에 사용될 경우 combiner를 이용해 스레드별 컨테이너 R을 통합\n12345678910111213141516171819String[] array = &#123;&quot;Java&quot;, &quot;Is&quot;, &quot;Fun&quot;, &quot;Isn&#x27;t&quot;, &quot;It&quot;, &quot;?&quot;&#125;;List&lt;String&gt; list = Arrays.stream(array)        .filter(s -&gt; s.length() &gt;= 3)        .collect(Collectors.toList()); // ArrayList        // .collect(Collectors.toCollection(LinkedList::new))System.out.println(list.getClass().getName() + &quot;:&quot; + list);  Set&lt;String&gt; set = Arrays.stream(array)        .filter(s -&gt; s.length() &gt;= 3)        .collect(Collectors.toSet()); // HashSet        // .collect(Collectors.toCollection(HashSet::new))System.out.println(set.getClass().getName() + &quot;:&quot; + set);Map&lt;String, Integer&gt; map = Arrays.stream(array)        .filter(s -&gt; s.length() &gt;= 3)        .collect(Collectors.toMap(s -&gt; s, String::length)); // HashMap        // .collect(Collectors.toCollection(s -&gt; s, String::length, (oldVal, newVal) -&gt; newVal, TreeMap::new))System.out.println(map.getClass().getName() + map);\n\n\n\nCollectors의 정적 메소드를 이용한 그룹화와 분리\n\npublic static &lt;T, K&gt; Collector&lt;T, ?, Map&lt;K, List&lt;T&gt;&gt;&gt; groupingBy(Function&lt;? super T, ? extends K&gt; classifier) : classifier를 key값으로, 해당하는 값의 목록을 List인 value로 가지는 Map으로 스트림을 수집하는 Collector를 반환\npublic static &lt;T, K, A, D&gt; Collector&lt;T, ?, Map&lt;K, D&gt;&gt; groupingBy(Function&lt;? super T, ? extends K&gt; classifier, Collector&lt;? super T, A, D&gt; downstream) : List 대신 downstream collector로 수집\n\n\npublic static &lt;T&gt; Collector&lt;T, ?, Map&lt;Boolean, List&lt;T&gt;&gt;&gt; partitioningBy(Predicate&lt;? super T&gt; predicate) : predicate 결과를 key로, 해당하는 값의 목록을 List value로 가지는 Map으로 스트림을 수집하는 Collector를 반환\npublic static &lt;T, A, D&gt; Collector&lt;T, ?, Map&lt;Boolean, D&gt;&gt; partitioningBy(Predicate&lt;? super T&gt; predicate, Collector&lt;? super T, A, D&gt; downstream)) : List 대신 downstream collector로 수집\n\n\n\n123456789String[] array = &#123;&quot;Java&quot;, &quot;Is&quot;, &quot;Fun&quot;, &quot;Isn&#x27;t&quot;, &quot;It&quot;, &quot;?&quot;&#125;;Map&lt;Character, List&lt;String&gt;&gt; map1 = Arrays.stream(array)        .collect(Collectors.groupingBy(s -&gt; s.charAt(0)));System.out.println(map1);Map&lt;Boolean, List&lt;String&gt;&gt; map2 = Arrays.stream(array)        .collect(Collectors.partitioningBy(s -&gt; s.length() &gt;= 3));System.out.println(map2);\n\n집계를 위한 Collector\n\nDownstream collector로 집계를 위한 Collector를 사용할 경우 유용하다.\ncounting(), summingP(), averagingP(), maxBy(), minBy(), reducing()\n\n123456String[] array = &#123;&quot;Java&quot;, &quot;Is&quot;, &quot;Fun&quot;, &quot;Isn&#x27;t&quot;, &quot;It&quot;, &quot;?&quot;&#125;;Map&lt;Character, Long&gt; map = Arrays.stream(array)        .collect(Collectors.groupingBy(s -&gt; s.charAt(0),                                       Collectors.counting()));System.out.println(map);\n\n\n\n병렬 스트림\n병렬 스트림의 생성\n\nstream() 대신 parallelStream()으로 변경\nstream 생성 후 parallel()으로 병렬화\n\n\ncombiner를 이용해 병렬 스트림으로 생성된 컬렉션을 결합\n\nBiConsumer&lt;T, K&gt; combiner : T 객체에 K 객체를 결합\n\n\n\n","dateCreated":"2020-09-24T22:42:52+09:00","dateModified":"2020-09-24T22:43:33+09:00","datePublished":"2020-09-24T22:42:52+09:00","description":"","headline":"Java-Advanced05-StreamAPI","image":[],"mainEntityOfPage":{"@type":"WebPage","@id":"https://kimyechan.github.io/2020/09/24/Java-Advanced05-StreamAPI/"},"publisher":{"@type":"Organization","name":"Yechan Kim","sameAs":["https://github.com/","http://stackoverflow.com/users","https://twitter.com/","https://facebook.com/","https://plus.google.com/","https://www.linkedin.com/profile/","mailto"]},"url":"https://kimyechan.github.io/2020/09/24/Java-Advanced05-StreamAPI/","keywords":"Java"}</script>
    <meta name="description" content="스트림 API (Stream API)스트림 API란 Java 8에서 추가된 java.util.stream 패키지 컬렉션의 요소를 람다식으로 처리할 수 있도록 하는 함수형 프로그래밍 도구  스트림 API의 특징 간결한 코드 작성  1234567891011&#x2F;&#x2F; JAVA 7List&lt;String&gt; list &#x3D; Arrays.asList(&quot;fast">
<meta property="og:type" content="blog">
<meta property="og:title" content="Java-Advanced05-StreamAPI">
<meta property="og:url" content="https://kimyechan.github.io/2020/09/24/Java-Advanced05-StreamAPI/index.html">
<meta property="og:site_name" content="Java Server Developer">
<meta property="og:description" content="스트림 API (Stream API)스트림 API란 Java 8에서 추가된 java.util.stream 패키지 컬렉션의 요소를 람다식으로 처리할 수 있도록 하는 함수형 프로그래밍 도구  스트림 API의 특징 간결한 코드 작성  1234567891011&#x2F;&#x2F; JAVA 7List&lt;String&gt; list &#x3D; Arrays.asList(&quot;fast">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2020-09-24T13:42:52.000Z">
<meta property="article:modified_time" content="2020-09-24T13:43:33.423Z">
<meta property="article:author" content="Yechan Kim">
<meta property="article:tag" content="Java">
<meta name="twitter:card" content="summary">
    
    
        
    
    
    
    
    
    <!--STYLES-->
    
<link rel="stylesheet" href="/assets/css/all.css">

    
<link rel="stylesheet" href="/assets/css/jquery.fancybox.css">

    
<link rel="stylesheet" href="/assets/css/thumbs.css">

    
<link rel="stylesheet" href="/assets/css/tranquilpeak.css">

    <!--STYLES END-->
    

    

    
        
    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    

<header id="header" data-behavior="5">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a
            class="header-title-link"
            href="/"
            aria-label=""
        >
            Java Server Developer
        </a>
    </div>
    
        
            <a
                class="header-right-picture "
                href="#about"
                aria-label="Open the link: /#about"
            >
        
        
        </a>
    
</header>

            <!-- Define author's picture -->


<nav id="sidebar" data-behavior="5">
    <div class="sidebar-container">
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/"
                            
                            rel="noopener"
                            title="Home"
                        >
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-categories"
                            
                            rel="noopener"
                            title="Categories"
                        >
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Categories</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-tags"
                            
                            rel="noopener"
                            title="Tags"
                        >
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Tags</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-archives"
                            
                            rel="noopener"
                            title="Archives"
                        >
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Archives</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link open-algolia-search"
                            href="#search"
                            
                            rel="noopener"
                            title="Search"
                        >
                        <i class="sidebar-button-icon fa fa-search" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Search</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="#about"
                            
                            rel="noopener"
                            title="About"
                        >
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">About</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://github.com/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="GitHub"
                        >
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="http://stackoverflow.com/users"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Stack Overflow"
                        >
                        <i class="sidebar-button-icon fab fa-stack-overflow" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Stack Overflow</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://twitter.com/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Twitter"
                        >
                        <i class="sidebar-button-icon fab fa-twitter" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Twitter</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://facebook.com/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Facebook"
                        >
                        <i class="sidebar-button-icon fab fa-facebook" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Facebook</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://plus.google.com/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Google +"
                        >
                        <i class="sidebar-button-icon fab fa-google-plus" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Google +</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://www.linkedin.com/profile/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="LinkedIn"
                        >
                        <i class="sidebar-button-icon fab fa-linkedin" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">LinkedIn</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/mailto"
                            
                            rel="noopener"
                            title="Mail"
                        >
                        <i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Mail</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/atom.xml"
                            
                            rel="noopener"
                            title="RSS"
                        >
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="5"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title">
            Java-Advanced05-StreamAPI
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2020-09-24T22:42:52+09:00">
	
		    Sep 24, 2020
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/Java/">Java</a>, <a class="category-link" href="/categories/Java/Java-Advanced/">Java Advanced</a>


    
</div>

    
</div>

    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <h1 id="스트림-API-Stream-API"><a href="#스트림-API-Stream-API" class="headerlink" title="스트림 API (Stream API)"></a>스트림 API (Stream API)</h1><h2 id="스트림-API란"><a href="#스트림-API란" class="headerlink" title="스트림 API란"></a>스트림 API란</h2><ul>
<li>Java 8에서 추가된 java.util.stream 패키지</li>
<li>컬렉션의 요소를 람다식으로 처리할 수 있도록 하는 함수형 프로그래밍 도구</li>
</ul>
<h2 id="스트림-API의-특징"><a href="#스트림-API의-특징" class="headerlink" title="스트림 API의 특징"></a>스트림 API의 특징</h2><ul>
<li>간결한 코드 작성</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// JAVA 7</span></span><br><span class="line">List&lt;String&gt; list = Arrays.asList(<span class="string">&quot;fast&quot;</span>, <span class="string">&quot;campus&quot;</span>, <span class="string">&quot;rocks&quot;</span>);</span><br><span class="line">List&lt;String&gt; newList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (String s: list) &#123;</span><br><span class="line">    newList.add(s.toUpperCase());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (String s: newList) &#123;</span><br><span class="line">    System.out.println(s);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// JAVA 8</span></span><br><span class="line">List&lt;String&gt; list = Arrays.asList(<span class="string">&quot;fast&quot;</span>, <span class="string">&quot;campus&quot;</span>, <span class="string">&quot;rocks&quot;</span>);</span><br><span class="line">Stream&lt;String&gt; stream = list.stream();</span><br><span class="line">stream.map(String::toUpperCase).forEach(System.out::println);</span><br></pre></td></tr></table></figure>

<ul>
<li><p>데이터 소스에 대한 공통의 접근 방식 제공</p>
<ul>
<li>List, Set, Array 등 다양한 경우에 대해 표준화된 방식으로 데이터 접근 가능</li>
<li>특히 Stream::sorted() 메소드는 공통된 정렬 방식을 제공</li>
</ul>
</li>
<li><p>중간 처리와 최종 처리를 지원</p>
<ul>
<li>Mapping, Filtering, Sorting 등 중간 처리 지원 (여러개 사용 가능)</li>
<li>Iteration, Count, Average, Summation, Reduce 등 최종 처리 지원 (마지막에 하나 사용 가능)</li>
</ul>
</li>
<li><p>데이터 소스와 처리 결과를 분리</p>
<ul>
<li>원본 데이터를 유지하여 처리에 의한 부작용 방지</li>
<li>처리 결과를 새로운 컬렉션으로 저장 가능</li>
</ul>
</li>
</ul>
<h2 id="스트림-API를-이용한-자료-처리"><a href="#스트림-API를-이용한-자료-처리" class="headerlink" title="스트림 API를 이용한 자료 처리"></a>스트림 API를 이용한 자료 처리</h2><h3 id="스트림-API의-종류"><a href="#스트림-API의-종류" class="headerlink" title="스트림 API의 종류"></a>스트림 API의 종류</h3><table>
<thead>
<tr>
<th>종류</th>
<th>처리 대상</th>
</tr>
</thead>
<tbody><tr>
<td><code>Stream&lt;T&gt;</code></td>
<td>일반적인 객체를 처리</td>
</tr>
<tr>
<td><code>IntStream</code></td>
<td>기본 자료형 <code>int</code>를 처리</td>
</tr>
<tr>
<td><code>LongStream</code></td>
<td>기본 자료형 <code>long</code>을 처리</td>
</tr>
<tr>
<td><code>DoubleStream</code></td>
<td>기본 자료형 <code>double</code>을 처리</td>
</tr>
</tbody></table>
<h3 id="스트림-객체-생성-메소드"><a href="#스트림-객체-생성-메소드" class="headerlink" title="스트림 객체 생성 메소드"></a>스트림 객체 생성 메소드</h3><ul>
<li><p>데이터 소스로부터 스트림 생성</p>
<table>
<thead>
<tr>
<th>데이터 소스</th>
<th>메소드</th>
</tr>
</thead>
<tbody><tr>
<td><code>Collection</code></td>
<td><code>default Stream&lt;E&gt; stream()</code></td>
</tr>
<tr>
<td><code>Collection</code></td>
<td><code>default Stream&lt;E&gt; parallelStream()</code></td>
</tr>
<tr>
<td><code>Arrays</code></td>
<td><code>public static &lt;T&gt; Stream&lt;T&gt; stream(T[] array)</code></td>
</tr>
<tr>
<td><code>Arrays</code></td>
<td><code>public static &lt;T&gt; Stream&lt;T&gt; of(T ... values)</code></td>
</tr>
<tr>
<td><code>Arrays</code></td>
<td><code>public static IntStream stream(int[] array)</code></td>
</tr>
<tr>
<td><code>Arrays</code></td>
<td><code>public static IntStream of(int ... values)</code></td>
</tr>
<tr>
<td><code>Arrays</code></td>
<td><code>public static LongStream stream(long[] array)</code></td>
</tr>
<tr>
<td><code>Arrays</code></td>
<td><code>public static LongStream of(long ... values)</code></td>
</tr>
<tr>
<td><code>Arrays</code></td>
<td><code>public static DoubleStream stream(double[] array)</code></td>
</tr>
<tr>
<td><code>Arrays</code></td>
<td><code>public static DoubleStream of(double ... values)</code></td>
</tr>
</tbody></table>
</li>
<li><p>정수 범위와 java.util.Random으로부터 생성</p>
<table>
<thead>
<tr>
<th>구분</th>
<th>메소드</th>
</tr>
</thead>
<tbody><tr>
<td><code>int</code>형 범위</td>
<td><code>public static IntStream range(int startInclusive, int endExclusive)</code></td>
</tr>
<tr>
<td><code>int</code>형 범위</td>
<td><code>public static IntStream rangeClosed(int startInclusive, int endInclusive)</code></td>
</tr>
<tr>
<td><code>long</code>형 범위</td>
<td><code>public static LongStream range(long startInclusive, long endExclusive)</code></td>
</tr>
<tr>
<td><code>long</code>형 범위</td>
<td><code>public static LongStream rangeClosed(long startInclusive, long endInclusive)</code></td>
</tr>
<tr>
<td>Random <em>p</em>형 값</td>
<td><code>public PStream ps()</code></td>
</tr>
<tr>
<td>Random <em>p</em>형 값</td>
<td><code>public PStream ps(long streamSize)</code></td>
</tr>
<tr>
<td>Random <em>p</em>형 값</td>
<td><code>public PStream ps(long streamSize, p origin, p bound)</code></td>
</tr>
</tbody></table>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">IntStream integers = IntStream.range(<span class="number">0</span>, <span class="number">10</span>);</span><br><span class="line">integers.forEach(System.out::println);</span><br><span class="line"></span><br><span class="line">Random random = <span class="keyword">new</span> Random();</span><br><span class="line">LongStream longs = random.longs(<span class="number">100</span>, <span class="number">1</span>, <span class="number">10</span>);</span><br><span class="line">System.out.println(longs.average().getAsDouble());</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="중간-처리-메소드"><a href="#중간-처리-메소드" class="headerlink" title="중간 처리 메소드"></a>중간 처리 메소드</h3><table>
<thead>
<tr>
<th>동작</th>
<th>메소드</th>
</tr>
</thead>
<tbody><tr>
<td>필터링</td>
<td>dinstict(), filter()</td>
</tr>
<tr>
<td>자르기</td>
<td>skip(), limit()</td>
</tr>
<tr>
<td>정렬</td>
<td>sorted()</td>
</tr>
<tr>
<td>매핑</td>
<td>flatMap(), flatMapToP(), map(), mapToP(), asDoubleStream(), asLongStream()</td>
</tr>
<tr>
<td>조회</td>
<td>peek()</td>
</tr>
</tbody></table>
<h4 id="필터링"><a href="#필터링" class="headerlink" title="필터링"></a>필터링</h4><p>필터링은 스트림의 일부 요소를 제거하는 역할을 한다.</p>
<ul>
<li><code>Stream&lt;T&gt; distict()</code> : 스트림 요소의 중복을 제거한 스트림을 반환</li>
<li><code>Stream&lt;T&gt; filter(Predicate&lt;? super T&gt; predicate)</code> : Predicate에서 true에 해당하는 요소만으로 구성된 스트림을 반환</li>
</ul>
<h4 id="자르기"><a href="#자르기" class="headerlink" title="자르기"></a>자르기</h4><p>자르기는 스트림의 일부 요소를 한번에 생략한다.</p>
<ul>
<li><code>Stream&lt;T&gt; limit(long maxSize)</code> : 최대 maxSize까지 구성된 스트림을 반환</li>
<li><code>Stream&lt;T&gt; skip(long n)</code> : 스트림의 상위 n개 요소를 생략한 스트림을 반환</li>
</ul>
<h4 id="정렬"><a href="#정렬" class="headerlink" title="정렬"></a>정렬</h4><p>스트림 요소의 <code>compareTo()</code> 또는 입력받은 <code>Comparator</code>를 이용해 정렬</p>
<ul>
<li><code>Stream&lt;T&gt; sorted()</code> : Comparable 객체를 정렬한 스트림 반환</li>
<li><code>Stream&lt;T&gt; sorted(Comparator&lt;? super T&gt; comparator)</code> : Comparator를 이용하여 정렬된 스트림 반환<ul>
<li>Comparator의 정적 메소드와 기본 메소드<ul>
<li>정적 메소드: naturalOrder(), reverseOrder(), comparing(), comparingP(), nullsFirst(), nullsLast()</li>
<li>기본 메소드: reversed(), thenComparing(), thenComparingP()</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="매핑"><a href="#매핑" class="headerlink" title="매핑"></a>매핑</h4><p>Function 인터페이스를 이용해 요소의 값을 변환한다.</p>
<ul>
<li><p>map 계열</p>
<ul>
<li><code>&lt;R&gt; Stream&lt;R&gt; map(Function&lt;? super T, ? extends R&gt; mapper)</code> : 기존 스트림의 T 타입 요소를 R 타입으로 변환하여 새로운 스트림 반환</li>
<li><code>PStream mapToP(ToPFunction&lt;? super T&gt; mapper)</code> : R이 기본형 타입으로 제한된 map()</li>
</ul>
</li>
<li><p>flatMap 계열</p>
<ul>
<li><code>&lt;R&gt; Stream&lt;R&gt; flatMap(Function&lt;? super T, ? extends Stream&lt;? extends R&gt;&gt; mapper)</code> : 스트림의 T 타입 요소가 n개의 R 타입 요소로 매핑된 새로운 스트림을 반환</li>
<li><code>PStream flatMapToP(Function&lt;? super T, ? extends PStream&gt; mapper)</code> : R이 기본형 타입으로 제한된 flatMap()</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; list = Arrays.asList(<span class="string">&quot;java&quot;</span>, <span class="string">&quot;backend&quot;</span>, <span class="string">&quot;best&quot;</span>, <span class="string">&quot;course&quot;</span>);</span><br><span class="line">System.out.println(list.stream().flatMap(data -&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> Arrays.stream(data.split(<span class="string">&quot;&quot;</span>));</span><br><span class="line">&#125;).distinct().count());</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="조회"><a href="#조회" class="headerlink" title="조회"></a>조회</h4><p>스트림 처리 과정에 영향을 미치지 않으며, 중간 결과를 확인할 수 있으며 입력받은 스트림과 동일한 스트림을 반환한다.</p>
<ul>
<li><p><code>Stream&lt;T&gt; peek(Consumer&lt;? super T&gt; action)</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; list = Arrays.asList(<span class="string">&quot;java&quot;</span>, <span class="string">&quot;backend&quot;</span>, <span class="string">&quot;best&quot;</span>, <span class="string">&quot;course&quot;</span>);</span><br><span class="line">System.out.println(list.stream().flatMap(data -&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> Arrays.stream(data.split(<span class="string">&quot;&quot;</span>));</span><br><span class="line">&#125;).peek(s -&gt; System.out.println(<span class="string">&quot;flatMap:&quot;</span> + s))</span><br><span class="line">  .distinct().peek(s -&gt; System.out.println(<span class="string">&quot;distinct:&quot;</span> + s))</span><br><span class="line">  .count());</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="최종-처리-메소드"><a href="#최종-처리-메소드" class="headerlink" title="최종 처리 메소드"></a>최종 처리 메소드</h3><table>
<thead>
<tr>
<th>동작</th>
<th>메소드</th>
</tr>
</thead>
<tbody><tr>
<td>매칭</td>
<td>allMatch(), anyMatch(), noneMatch()</td>
</tr>
<tr>
<td>수집</td>
<td>collect()</td>
</tr>
<tr>
<td>루핑</td>
<td>forEach()</td>
</tr>
<tr>
<td>집계</td>
<td>count(), max(), min(), average(), sum(), reduce()</td>
</tr>
<tr>
<td>조사</td>
<td>findFirst(), findAny()</td>
</tr>
</tbody></table>
<h4 id="매칭"><a href="#매칭" class="headerlink" title="매칭"></a>매칭</h4><p>Predicate 계열을 이용해 스트림 요소들이 특정 조건에 만족하는지 조사하는 메소드</p>
<ul>
<li><code>boolean allMatch(Predicate&lt;? super T&gt; predicate)</code> : 스트림의 모든 요소가 Predicate를 만족하면 true를 반환</li>
<li><code>boolean anyMatch(Predicate&lt;? super T&gt; predicate)</code> : 스트림의 요소 중 하나라도 Predicate를 만족하면 true를 반환</li>
<li><code>boolean noneMatch(Predicate&lt;? super T&gt; predicate)</code> : 스트림의 요소 중 하나라도 Predicate를 만족하지 않으면 true를 반환</li>
</ul>
<h4 id="집계"><a href="#집계" class="headerlink" title="집계"></a>집계</h4><ul>
<li><p>기본 집계 메소드</p>
<ul>
<li>기본형 스트림의 통계 : count(), sum(), average(), min(), max()</li>
<li>T 타입 스트림의 통계 : count(), min(), max() (min, max의 경우 <code>Comparator</code> 필요)</li>
</ul>
</li>
<li><p>reduce() 메소드</p>
<ul>
<li><code>Optional&lt;T&gt; reduce(BinaryOperator&lt;T&gt; accumulator)</code> : accumulator를 수행하고 <code>Optional&lt;T&gt;</code> 타입 반환</li>
<li><code>T reduce(T identity, BinaryOperator&lt;T&gt; accumulator)</code> : identity를 초기값으로 하여, accumulator를 이용해 집계 연산</li>
<li><code>&lt;U&gt; U reduce(U identity, BiFunction&lt;U, ? super T, U&gt; accumulator, BinaryOperator&lt;U&gt; combiner)</code> : combiner를 이용해 병렬 스트림 결합</li>
</ul>
</li>
<li><p><code>java.util.Optional&lt;T&gt;</code></p>
<ul>
<li>T 타입 객체의 null 여부에 따라 다르게 동작하는 Wrapper 클래스</li>
<li>Optional 클래스의 정적 메소드를 이용해 Optional 객체 생성<ul>
<li><code>public static &lt;T&gt; Optional&lt;T&gt; of(T value)</code> : value가 null인 경우 NullPointerException을 발생시키는 Wrapping 메소드</li>
<li><code>public static &lt;T&gt; Optional&lt;T&gt; ofNullable(T value)</code> : value가 null인 경우 empty()의 결과를 리턴하는 Wrapping 메소드</li>
<li><code>public static &lt;T&gt; Optional&lt;T&gt; empty()</code> : 값이 비어있는 Optional 객체를 리턴</li>
</ul>
</li>
<li>Optional 객체를 처리하는 메소드<ul>
<li><code>public T get()</code> : Optional의 값을 리턴하며, null일 경우 NullPointerException 발생</li>
<li><code>public void ifPresent(Consumer&lt;? super T&gt; consumer)</code> : Optional 값이 null이 아닐 경우 consumer를 이용해 소비한다.</li>
<li><code>public T orElse(T other)</code> : Optional의 값이 null일 경우 other를 반환한다.</li>
<li><code>public T orElseGet(Supplier&lt;? extends T&gt; other)</code> : Optional의 값이 null일 경우 Supplier를 통해 공급받은 값을 반환한다.</li>
<li><code>public &lt;X extends Throwable&gt; T orElseThrow(Supplier&lt;? extends X&gt; exceptionSupplier) throws X</code> : Optional의 값이 null일 경우 exceptionSupplier에서 공급받은 예외를 throw</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="반복"><a href="#반복" class="headerlink" title="반복"></a>반복</h4><p>forEach() 메소드로 스트림 요소를 순차적으로 <code>Consumer&lt;T&gt;</code>를 이용해 소비</p>
<ul>
<li><code>void forEach(Comsumer&lt;? super T&gt; action)</code> : 스트림의 각 요소를 action으로 소비</li>
</ul>
<h4 id="조사"><a href="#조사" class="headerlink" title="조사"></a>조사</h4><p>첫번째 요소 또는 아무 요소를 조사하는 최종 처리 메소드. 필터링 등으로 인해 스트림에 요소가 남아있는지 확인할 수 있다.</p>
<ul>
<li><code>Optional&lt;T&gt; findFirst()</code> : 스트림의 첫 요소 또는 empty Optional 객체를 반환</li>
<li><code>Optional&lt;T&gt; findAny()</code> : 스트림의 아무 요소나 가지는 Optional 객체를 반환</li>
</ul>
<h4 id="수집"><a href="#수집" class="headerlink" title="수집"></a>수집</h4><p>필요한 요소를 수집하여 새로운 Collection으로 구성하여 반환하는 메소드</p>
<ul>
<li><p>collect() 메소드</p>
<ul>
<li><p><code>&lt;R, A&gt; R collect(Collector&lt;? super T, A, R&gt; collector)</code> : collector를 이용해 새로운 Collection R에 담아 반환</p>
<ul>
<li>Collectors의 정적 메소드: <code>toList()</code>, <code>toSet()</code>, <code>toCollection()</code>, <code>toMap()</code>, <code>toConcurrentMap()</code></li>
</ul>
</li>
<li><p><code>&lt;R, A&gt; R collect(Supplier&lt;R&gt; supplier, BiConsumer&lt;R, ? super T&gt; accumulator, BiConsumer&lt;R, R&gt; combiner)</code> : supplier를 통해 공급된 컨테이너 R에 accumulator를 이용해 T값을 저장. 병렬처리 스트림에 사용될 경우 combiner를 이용해 스레드별 컨테이너 R을 통합</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">String[] array = &#123;<span class="string">&quot;Java&quot;</span>, <span class="string">&quot;Is&quot;</span>, <span class="string">&quot;Fun&quot;</span>, <span class="string">&quot;Isn&#x27;t&quot;</span>, <span class="string">&quot;It&quot;</span>, <span class="string">&quot;?&quot;</span>&#125;;</span><br><span class="line">List&lt;String&gt; list = Arrays.stream(array)</span><br><span class="line">        .filter(s -&gt; s.length() &gt;= <span class="number">3</span>)</span><br><span class="line">        .collect(Collectors.toList()); <span class="comment">// ArrayList</span></span><br><span class="line">        <span class="comment">// .collect(Collectors.toCollection(LinkedList::new))</span></span><br><span class="line">System.out.println(list.getClass().getName() + <span class="string">&quot;:&quot;</span> + list);</span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">Set&lt;String&gt; set = Arrays.stream(array)</span><br><span class="line">        .filter(s -&gt; s.length() &gt;= <span class="number">3</span>)</span><br><span class="line">        .collect(Collectors.toSet()); <span class="comment">// HashSet</span></span><br><span class="line">        <span class="comment">// .collect(Collectors.toCollection(HashSet::new))</span></span><br><span class="line">System.out.println(set.getClass().getName() + <span class="string">&quot;:&quot;</span> + set);</span><br><span class="line"></span><br><span class="line">Map&lt;String, Integer&gt; map = Arrays.stream(array)</span><br><span class="line">        .filter(s -&gt; s.length() &gt;= <span class="number">3</span>)</span><br><span class="line">        .collect(Collectors.toMap(s -&gt; s, String::length)); <span class="comment">// HashMap</span></span><br><span class="line">        <span class="comment">// .collect(Collectors.toCollection(s -&gt; s, String::length, (oldVal, newVal) -&gt; newVal, TreeMap::new))</span></span><br><span class="line">System.out.println(map.getClass().getName() + map);</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>Collectors의 정적 메소드를 이용한 그룹화와 분리</p>
<ul>
<li><code>public static &lt;T, K&gt; Collector&lt;T, ?, Map&lt;K, List&lt;T&gt;&gt;&gt; groupingBy(Function&lt;? super T, ? extends K&gt; classifier)</code> : classifier를 key값으로, 해당하는 값의 목록을 List인 value로 가지는 Map으로 스트림을 수집하는 Collector를 반환<ul>
<li><code>public static &lt;T, K, A, D&gt; Collector&lt;T, ?, Map&lt;K, D&gt;&gt; groupingBy(Function&lt;? super T, ? extends K&gt; classifier, Collector&lt;? super T, A, D&gt; downstream)</code> : List 대신 downstream collector로 수집</li>
</ul>
</li>
<li><code>public static &lt;T&gt; Collector&lt;T, ?, Map&lt;Boolean, List&lt;T&gt;&gt;&gt; partitioningBy(Predicate&lt;? super T&gt; predicate)</code> : predicate 결과를 key로, 해당하는 값의 목록을 List value로 가지는 Map으로 스트림을 수집하는 Collector를 반환<ul>
<li><code>public static &lt;T, A, D&gt; Collector&lt;T, ?, Map&lt;Boolean, D&gt;&gt; partitioningBy(Predicate&lt;? super T&gt; predicate, Collector&lt;? super T, A, D&gt; downstream))</code> : List 대신 downstream collector로 수집</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">String[] array = &#123;<span class="string">&quot;Java&quot;</span>, <span class="string">&quot;Is&quot;</span>, <span class="string">&quot;Fun&quot;</span>, <span class="string">&quot;Isn&#x27;t&quot;</span>, <span class="string">&quot;It&quot;</span>, <span class="string">&quot;?&quot;</span>&#125;;</span><br><span class="line"></span><br><span class="line">Map&lt;Character, List&lt;String&gt;&gt; map1 = Arrays.stream(array)</span><br><span class="line">        .collect(Collectors.groupingBy(s -&gt; s.charAt(<span class="number">0</span>)));</span><br><span class="line">System.out.println(map1);</span><br><span class="line"></span><br><span class="line">Map&lt;Boolean, List&lt;String&gt;&gt; map2 = Arrays.stream(array)</span><br><span class="line">        .collect(Collectors.partitioningBy(s -&gt; s.length() &gt;= <span class="number">3</span>));</span><br><span class="line">System.out.println(map2);</span><br></pre></td></tr></table></figure>
</li>
<li><p>집계를 위한 Collector</p>
<ul>
<li>Downstream collector로 집계를 위한 Collector를 사용할 경우 유용하다.</li>
<li><code>counting()</code>, <code>summingP()</code>, <code>averagingP()</code>, <code>maxBy()</code>, <code>minBy()</code>, <code>reducing()</code></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">String[] array = &#123;<span class="string">&quot;Java&quot;</span>, <span class="string">&quot;Is&quot;</span>, <span class="string">&quot;Fun&quot;</span>, <span class="string">&quot;Isn&#x27;t&quot;</span>, <span class="string">&quot;It&quot;</span>, <span class="string">&quot;?&quot;</span>&#125;;</span><br><span class="line"></span><br><span class="line">Map&lt;Character, Long&gt; map = Arrays.stream(array)</span><br><span class="line">        .collect(Collectors.groupingBy(s -&gt; s.charAt(<span class="number">0</span>),</span><br><span class="line">                                       Collectors.counting()));</span><br><span class="line">System.out.println(map);</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="병렬-스트림"><a href="#병렬-스트림" class="headerlink" title="병렬 스트림"></a>병렬 스트림</h3><ul>
<li><p>병렬 스트림의 생성</p>
<ul>
<li>stream() 대신 parallelStream()으로 변경</li>
<li>stream 생성 후 parallel()으로 병렬화</li>
</ul>
</li>
<li><p>combiner를 이용해 병렬 스트림으로 생성된 컬렉션을 결합</p>
<ul>
<li><code>BiConsumer&lt;T, K&gt; combiner</code> : T 객체에 K 객체를 결합</li>
</ul>
</li>
</ul>

            


        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">TAGGED IN</span><br/>
                
    <a class="tag tag--primary tag--small t-none-link" href="/tags/Java/" rel="tag">Java</a>

            </div>
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2020/09/28/Java-Advanced06-java-lang/"
                    data-tooltip="Java-Advanced06-java.lang"
                    aria-label="PREVIOUS: Java-Advanced06-java.lang"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2020/09/22/Java-Advanced04-LambdaExpression/"
                    data-tooltip="Java-Advanced04-LambdaExpression"
                    aria-label="NEXT: Java-Advanced04-LambdaExpression"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Share this post"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://kimyechan.github.io/2020/09/24/Java-Advanced05-StreamAPI/"
                    title="Share on Facebook"
                    aria-label="Share on Facebook"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://kimyechan.github.io/2020/09/24/Java-Advanced05-StreamAPI/"
                    title="Share on Twitter"
                    aria-label="Share on Twitter"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://plus.google.com/share?url=https://kimyechan.github.io/2020/09/24/Java-Advanced05-StreamAPI/"
                    title="Share on Google+"
                    aria-label="Share on Google+"
                >
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
                <li class="post-action">
                    <a
                        class="post-action-btn btn btn--default"
                        href="#disqus_thread"
                        aria-label="Leave a comment"
                    >
                        <i class="fa fa-comment"></i>
                    </a>
                </li>
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
                <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2020 Yechan Kim. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="5">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2020/09/28/Java-Advanced06-java-lang/"
                    data-tooltip="Java-Advanced06-java.lang"
                    aria-label="PREVIOUS: Java-Advanced06-java.lang"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2020/09/22/Java-Advanced04-LambdaExpression/"
                    data-tooltip="Java-Advanced04-LambdaExpression"
                    aria-label="NEXT: Java-Advanced04-LambdaExpression"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Share this post"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://kimyechan.github.io/2020/09/24/Java-Advanced05-StreamAPI/"
                    title="Share on Facebook"
                    aria-label="Share on Facebook"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://kimyechan.github.io/2020/09/24/Java-Advanced05-StreamAPI/"
                    title="Share on Twitter"
                    aria-label="Share on Twitter"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://plus.google.com/share?url=https://kimyechan.github.io/2020/09/24/Java-Advanced05-StreamAPI/"
                    title="Share on Google+"
                    aria-label="Share on Google+"
                >
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
                <li class="post-action">
                    <a
                        class="post-action-btn btn btn--default"
                        href="#disqus_thread"
                        aria-label="Leave a comment"
                    >
                        <i class="fa fa-comment"></i>
                    </a>
                </li>
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                
    <div id="share-options-bar" class="share-options-bar" data-behavior="5">
        <i id="btn-close-shareoptions" class="fa fa-times"></i>
        <ul class="share-options">
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://www.facebook.com/sharer/sharer.php?u=https://kimyechan.github.io/2020/09/24/Java-Advanced05-StreamAPI/"
                        aria-label="Share on Facebook"
                    >
                        <i class="fab fa-facebook" aria-hidden="true"></i><span>Share on Facebook</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://twitter.com/intent/tweet?text=https://kimyechan.github.io/2020/09/24/Java-Advanced05-StreamAPI/"
                        aria-label="Share on Twitter"
                    >
                        <i class="fab fa-twitter" aria-hidden="true"></i><span>Share on Twitter</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://plus.google.com/share?url=https://kimyechan.github.io/2020/09/24/Java-Advanced05-StreamAPI/"
                        aria-label="Share on Google+"
                    >
                        <i class="fab fa-google-plus" aria-hidden="true"></i><span>Share on Google+</span>
                    </a>
                </li>
            
        </ul>
    </div>


            
        </div>
        


<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <h4 id="about-card-name">Yechan Kim</h4>
        
            <div id="about-card-bio"><p>author.bio</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>author.job</p>

            </div>
        
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->

<script src="/assets/js/jquery.js"></script>


<script src="/assets/js/jquery.fancybox.js"></script>


<script src="/assets/js/thumbs.js"></script>


<script src="/assets/js/tranquilpeak.js"></script>

<!--SCRIPTS END-->


    
        <script>
          var disqus_config = function() {
            this.page.url = 'https://kimyechan.github.io/2020/09/24/Java-Advanced05-StreamAPI/';
              
            this.page.identifier = '2020/09/24/Java-Advanced05-StreamAPI/';
              
          };
          (function() {
            var d = document, s = d.createElement('script');
            var disqus_shortname = 'xhandev';
            s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
          })();
        </script>
    




    </body>
</html>
