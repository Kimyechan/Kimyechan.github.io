
<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Build Up">
    <title>Web-Servlet - Build Up</title>
    <meta name="author" content="Yechan Kim">
    
    
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Yechan Kim","sameAs":["https://github.com/","http://stackoverflow.com/users","https://twitter.com/","https://facebook.com/","https://plus.google.com/","https://www.linkedin.com/profile/","mailto"]},"articleBody":"\nGoal\n\nWeb Service의 기본적인 동작 과정을 이해한다\nServlet을 이해한다\n\n\nServlet이란Servlet의 개념웹 기반의 요청에 대한 동적인 처리가 가능한 하나의 클래스\n\nServer Side에서 돌아가는 Java Program\n개발자가 작성하는 부분\n\nServlet의 기본적인 동작과정\n\nWeb Server는 HTTP Request를 Web Container(Servlet Container)에게 위임한다\nweb.xml설정에서 어떤 URL과 매핑되어 있는지 확인\n클라이언트(browser)의 요청 URL을 보고 적절한 Servlet을 실행\n\n\nWeb Container는 service() 메소드를 호출하기 전에 Servlet객체를 메모리에 올린다\nWeb Container는 적절한 Servlet 파일을 컴파일(.class 파일 생성)한다\n.class 파일을 메모리에 올려 Servlet 객체를 만든다\n메모리에 로드될 때 Servlet객체를 초기화하는 init()메소드가 실행된다\n\n\nWeb Container는 Request가 올 때 마다 thread를 생성하여 처리한다.\n각 thread는 Servlet의 단일 객체에 대한 service() 메소드를 실행한다\n\n\n\n\nServlet Program에서 Thread의 역할\nThread의 역할: Servlet의 doGet()또는 doPost()를 호출\nWeb Container(Servlet Container)는 thread의 생성과 제거를 담당한다\n하지만 thread의 생성과 제거의 반복은 큰 오버헤드를 만든다\n이를 위해서 Tomcat(WAS)는 “Thread Pool”이라는 적절한 매커니즘을 사용해서 오버해드를 줄인다\n\n\n즉, WAS는 Servlet의 Life cycle을 담당한다\n웹 브라우저 클라이언트의 요청이 들어왔을때 Servlet 객체의 생성은 WAS가 알아서 처리한다\nWAS 위에서 Servlet이 돌아다니고 개발자는 이 Servlet을 만들어야한다\n\n\n\n\n\nServlet Life Cycle\n\n클라이언트에 요청이 들어오면 WAS는 해당 요청에 맞는 Servlet이 메모리에 있는지 확인한다\n\n만약 메모리에 없다면 해당 Servlet Class를 메모리에 올린 후(Servlet 객체 생성) \ninit() 메소드 실행 후 service() 메소드를 실행\n\n\n메모리에 있다면 바로 service 메소드 실행  12345if(메모리에 없음) &#123;    // 해당 서블릿 클래스를 메모리에 올림    // init() 메소드를 실행&#125;// service() 메소드를 실행\n\n\n\ninit()\n\n한 번만 수행된다\n클라이언트의 요청에 따라 적절한 Servlet이 생성되고이 Servlet이 메모리에 로드될 때 init() 메소드가 실행된다\n역할: Servlet 객체를 초기화\n\n\nservice()\n\n응답에 대한 모든 내용은 service()메소드에 구현해야한다\nServlet이 수신한 모든 request에 대해 service() 메소드가 호출된다\nHttpServlet을 상속받은 Servlet클래스에서 service()메서드를 오버라이드하지 않았다면, 그 부모인 HttpServlet의 service()가 호출된다\nHttpServlet의 service()메소드는 템플릿 메소드 패턴으로 구현되었다\nservice()메소드는 request의 type(HTTP Method: GET, POST, PUT, DELETE)에 따라 적절한 메소드(doGet, doPost, doPut, doDelete)를 호출한다\n즉, 하위 클래스에서 doGet, doPost등의 메소드를 오버라이드 해두면 HttpServlet의 service()메소드가 요청에 맞는 메소드를 알아서 호출할 수 있게 된다\n\n\n메소드가 return하면 thread는 종료된다\n\n\ndestory()\n\n한 번만 수행된다\nWeb Application이 갱신되거나 WAS를 종료할 때 호출된다\n역할: Servlet 객체를 메모리에서 제거\n\n\n\nServlet 메서드 구현 예시1234567891011121314151617181920212223    // `javax.servlet.http.HttpServlet`를 상속받은 Servlet 클래스public class LoginServlet extends HttpServlet &#123;    // doPost()를 재정의     protected void doPost(HttpServletRequest request, HttpServletResponse response throws ServletException, IOException &#123;        // read form fields        String username = request.getParameter(&quot;username&quot;);        String password = request.getParameter(&quot;password&quot;);                 // get response writer        PrintWriter writer = response.getWriter();        /* 여기서 -&gt; DB 접근 등 Business Logic 부분을 처리 */                 // build HTML code (view 생성 부분)        String htmlResponse = &quot;&lt;html&gt;&quot;;        htmlResponse += &quot;&lt;h2&gt;Your username is: &quot; + username + &quot;&lt;br/&gt;&quot;;              htmlResponse += &quot;Your password is: &quot; + password + &quot;&lt;/h2&gt;&quot;;            htmlResponse += &quot;&lt;/html&gt;&quot;;                     // return response        writer.println(htmlResponse);             &#125;&#125;\n\nWAS는 웹 브라우저로부터 요청을 받으면\n\n요청할 때 가지고 있는 정보를 HttpServletRequest객체를 생성하여 저장한다\n웹 브라우저에게 응답을 보낼 때, 사용하기 위한 HttpServletResponse 객체를 생성한다\n생성된 HttpServletRequest, HttpServletResponse 객체를 Servlet에게 전달한다\n\n\n일반적으로 javax.servlet.http.HttpServlet를 상속받은 Servlet클래스를 작성한다\n\nHttpServletRequest request 파라미터를 통해서 사용자가 입력한 data를 읽는다\nHttpServletResponse 파라지터를 통해서 출력/결과를 생성한다\n\n\nServlet 클래스에 doGet() 또는 doPost()중 적어도 하나를 재정의하여 작성한다\n\nprotected doGet()(HttpServletRequest request, HttpServletResponse response)&#123;&#125;\nprotected doPost()(HttpServletRequest request, HttpServletResponse response)&#123;&#125;\n\n\nHttpServletRequest request 객체\n\n사용자가 입력한 내용을 request 객체에 받아온다\n\nHttp 프로토콜의 Request정보를 Servlet에 전달\n\n\n헤더 정보, 파라미터, 쿠키, URI, URL, Body의 Stream등을 읽어 들이는 메소드가 있다.\n\ngetHeader(“원하는 헤더 이름”)\n\n원하는 헤더 정보를 확인할 수 있다\n\n\ngetParameter()\n\n이 메소드를 호출하여 parameter값을 가져온다\nparameter값은 URL또는 form의 input tag를 통해서 넘어올 수 있다\n\n\nEx.  12String name = request.getParameter(&quot;firstname&quot;);int year = Integer.parseInt (request.getParameter(&quot;year&quot;));\n\n\n\ngetParameterValues()\n\nparameter가 여러 개의 값을 반환할 때 이 메소드를 호출한다. (Ex. checkbox)  1String languages[] = request.getParameterValues(&quot;language&quot;);\n\n\n\n\n\n\n\nServlet Concurrency\n\nJava 서블릿 컨테니어/ 웹 서버는 일반적으로 멀티 쓰레드 환경이다.\n\n같은 Servlet에 대한 여러 개의 요청이 동시에 실행될 수 있어 runtime에 따라 결과가 달라질 수 있다\n즉, Servlet은 메모리에 한 번 올라오고 멀티 쓰레드 환경에서 여러 thread는 하나의 Servlet을 공유하기 대문에 Concurrency Control가 필요하다\n\n\nServlet의 service() 메소드 안의 변수\n\n정적 변수, 맴버 변수: 공유하는 자원이므로 상호 배제가 필요\n지역 변수: thread마다 독립적으로 생성\n\n\n\nServlet Annotation\n\nServlet API 3.0은 javax.servlet.annotation이라는 새로운 패키지를 도입했다.\nTomcat 7이상에서 사용가능\n\n\nAnnotation은 Web Deployment Descriptor파일(web.xml)의 XML 설정을 대체할 수 있다\nAnnotation Type\n@WebServlet: 서블릿 선언\n@WebInitParam: 초기화 매개 변수 지정\n\n\nEx)  123456789101112131415@WebServlet(value = &quot;/Simple&quot;, initParams = &#123;@WebInitParam(name=&quot;foo&quot;, value=&quot;Hello &quot;),           @WebInitParam(name=&quot;bar&quot;, value=&quot; World!&quot;)&#125;) public class Simple extends HttpServlet &#123;     protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;     response.setContentType(&quot;text/html&quot;);      PrintWriter out=response.getWriter();         out.print(&quot;&lt;html&gt;&lt;body&gt;&quot;);      out.print(&quot;&lt;h3&gt;Hello Servlet&lt;/h3&gt;&quot;);      out.println(getInitParameter(&quot;foo&quot;));      out.println(getInitParameter(&quot;bar&quot;));      out.print(&quot;&lt;/body&gt;&lt;/html&gt;&quot;);     &#125; &#125; \n\n","dateCreated":"2020-11-10T10:46:44+09:00","dateModified":"2020-11-10T13:54:32+09:00","datePublished":"2020-11-10T10:46:44+09:00","description":"","headline":"Web-Servlet","image":[],"mainEntityOfPage":{"@type":"WebPage","@id":"https://kimyechan.github.io/2020/11/10/Web-Servlet/"},"publisher":{"@type":"Organization","name":"Yechan Kim","sameAs":["https://github.com/","http://stackoverflow.com/users","https://twitter.com/","https://facebook.com/","https://plus.google.com/","https://www.linkedin.com/profile/","mailto"]},"url":"https://kimyechan.github.io/2020/11/10/Web-Servlet/","keywords":"Web, Servlet"}</script>
    <meta name="description" content="Goal  Web Service의 기본적인 동작 과정을 이해한다 Servlet을 이해한다   Servlet이란Servlet의 개념웹 기반의 요청에 대한 동적인 처리가 가능한 하나의 클래스  Server Side에서 돌아가는 Java Program 개발자가 작성하는 부분  Servlet의 기본적인 동작과정  Web Server는 HTTP Request를 W">
<meta property="og:type" content="blog">
<meta property="og:title" content="Web-Servlet">
<meta property="og:url" content="https://kimyechan.github.io/2020/11/10/Web-Servlet/index.html">
<meta property="og:site_name" content="Build Up">
<meta property="og:description" content="Goal  Web Service의 기본적인 동작 과정을 이해한다 Servlet을 이해한다   Servlet이란Servlet의 개념웹 기반의 요청에 대한 동적인 처리가 가능한 하나의 클래스  Server Side에서 돌아가는 Java Program 개발자가 작성하는 부분  Servlet의 기본적인 동작과정  Web Server는 HTTP Request를 W">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://user-images.githubusercontent.com/12459864/98617499-786aa200-2342-11eb-864d-68ab0d9309fb.png">
<meta property="og:image" content="https://user-images.githubusercontent.com/12459864/98619387-7a366480-2346-11eb-8974-c01160f924ef.png">
<meta property="og:image" content="https://user-images.githubusercontent.com/12459864/98628278-98599000-2359-11eb-9ce9-88a1021160f7.png">
<meta property="og:image" content="https://user-images.githubusercontent.com/12459864/98628886-f20e8a00-235a-11eb-83ea-311d46ec4ad2.png">
<meta property="article:published_time" content="2020-11-10T01:46:44.000Z">
<meta property="article:modified_time" content="2020-11-10T04:54:32.168Z">
<meta property="article:author" content="Yechan Kim">
<meta property="article:tag" content="Web">
<meta property="article:tag" content="Servlet">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://user-images.githubusercontent.com/12459864/98617499-786aa200-2342-11eb-864d-68ab0d9309fb.png">
    
    
        
    
    
    
    
    
    <!--STYLES-->
    
<link rel="stylesheet" href="/assets/css/all.css">

    
<link rel="stylesheet" href="/assets/css/jquery.fancybox.css">

    
<link rel="stylesheet" href="/assets/css/thumbs.css">

    
<link rel="stylesheet" href="/assets/css/tranquilpeak.css">

    <!--STYLES END-->
    

    

    
        
    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    

<header id="header" data-behavior="5">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a
            class="header-title-link"
            href="/"
            aria-label=""
        >
            Build Up
        </a>
    </div>
    
        
            <a
                class="header-right-picture "
                href="#about"
                aria-label="Open the link: /#about"
            >
        
        
        </a>
    
</header>

            <!-- Define author's picture -->


<nav id="sidebar" data-behavior="5">
    <div class="sidebar-container">
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/"
                            
                            rel="noopener"
                            title="Home"
                        >
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-categories"
                            
                            rel="noopener"
                            title="Categories"
                        >
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Categories</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-tags"
                            
                            rel="noopener"
                            title="Tags"
                        >
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Tags</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-archives"
                            
                            rel="noopener"
                            title="Archives"
                        >
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Archives</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link open-algolia-search"
                            href="#search"
                            
                            rel="noopener"
                            title="Search"
                        >
                        <i class="sidebar-button-icon fa fa-search" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Search</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="#about"
                            
                            rel="noopener"
                            title="About"
                        >
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">About</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://github.com/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="GitHub"
                        >
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="http://stackoverflow.com/users"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Stack Overflow"
                        >
                        <i class="sidebar-button-icon fab fa-stack-overflow" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Stack Overflow</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://twitter.com/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Twitter"
                        >
                        <i class="sidebar-button-icon fab fa-twitter" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Twitter</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://facebook.com/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Facebook"
                        >
                        <i class="sidebar-button-icon fab fa-facebook" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Facebook</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://plus.google.com/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Google +"
                        >
                        <i class="sidebar-button-icon fab fa-google-plus" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Google +</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://www.linkedin.com/profile/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="LinkedIn"
                        >
                        <i class="sidebar-button-icon fab fa-linkedin" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">LinkedIn</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/mailto"
                            
                            rel="noopener"
                            title="Mail"
                        >
                        <i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Mail</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/atom.xml"
                            
                            rel="noopener"
                            title="RSS"
                        >
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="5"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title">
            Web-Servlet
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2020-11-10T10:46:44+09:00">
	
		    Nov 10, 2020
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/Web/">Web</a>, <a class="category-link" href="/categories/Web/Servlet/">Servlet</a>


    
</div>

    
</div>

    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <hr>
<h1 id="Goal"><a href="#Goal" class="headerlink" title="Goal"></a>Goal</h1><blockquote>
<ul>
<li>Web Service의 기본적인 동작 과정을 이해한다</li>
<li>Servlet을 이해한다</li>
</ul>
</blockquote>
<h1 id="Servlet이란"><a href="#Servlet이란" class="headerlink" title="Servlet이란"></a>Servlet이란</h1><h2 id="Servlet의-개념"><a href="#Servlet의-개념" class="headerlink" title="Servlet의 개념"></a>Servlet의 개념</h2><p><code>웹 기반의 요청에 대한 동적인 처리가 가능한 하나의 클래스</code></p>
<ul>
<li>Server Side에서 돌아가는 Java Program</li>
<li>개발자가 작성하는 부분</li>
</ul>
<h2 id="Servlet의-기본적인-동작과정"><a href="#Servlet의-기본적인-동작과정" class="headerlink" title="Servlet의 기본적인 동작과정"></a>Servlet의 기본적인 동작과정</h2><p><img src="https://user-images.githubusercontent.com/12459864/98617499-786aa200-2342-11eb-864d-68ab0d9309fb.png" alt="스크린샷 2020-11-10 오전 10 49 45"></p>
<ol>
<li>Web Server는 HTTP Request를 Web Container(Servlet Container)에게 위임한다<ol>
<li>web.xml설정에서 어떤 URL과 매핑되어 있는지 확인</li>
<li>클라이언트(browser)의 요청 URL을 보고 적절한 Servlet을 실행</li>
</ol>
</li>
<li>Web Container는 service() 메소드를 호출하기 전에 Servlet객체를 메모리에 올린다<ol>
<li>Web Container는 적절한 Servlet 파일을 컴파일(.class 파일 생성)한다</li>
<li>.class 파일을 메모리에 올려 Servlet 객체를 만든다</li>
<li>메모리에 로드될 때 Servlet객체를 초기화하는 init()메소드가 실행된다</li>
</ol>
</li>
<li>Web Container는 Request가 올 때 마다 thread를 생성하여 처리한다.<ul>
<li>각 thread는 Servlet의 단일 객체에 대한 service() 메소드를 실행한다</li>
</ul>
</li>
</ol>
<ul>
<li>Servlet Program에서 Thread의 역할<ul>
<li>Thread의 역할: Servlet의 doGet()또는 doPost()를 호출</li>
<li>Web Container(Servlet Container)는 thread의 생성과 제거를 담당한다<ul>
<li>하지만 thread의 생성과 제거의 반복은 큰 오버헤드를 만든다</li>
<li>이를 위해서 Tomcat(WAS)는 “Thread Pool”이라는 적절한 매커니즘을 사용해서 오버해드를 줄인다</li>
</ul>
</li>
<li>즉, WAS는 Servlet의 Life cycle을 담당한다<ul>
<li>웹 브라우저 클라이언트의 요청이 들어왔을때 Servlet 객체의 생성은 WAS가 알아서 처리한다</li>
<li>WAS 위에서 Servlet이 돌아다니고 개발자는 이 Servlet을 만들어야한다</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="Servlet-Life-Cycle"><a href="#Servlet-Life-Cycle" class="headerlink" title="Servlet Life Cycle"></a>Servlet Life Cycle</h2><p><img src="https://user-images.githubusercontent.com/12459864/98619387-7a366480-2346-11eb-8974-c01160f924ef.png" alt="스크린샷 2020-11-10 오전 11 18 28"></p>
<ul>
<li><p>클라이언트에 요청이 들어오면 WAS는 해당 요청에 맞는 Servlet이 메모리에 있는지 확인한다</p>
<ul>
<li>만약 메모리에 없다면 해당 Servlet Class를 메모리에 올린 후(Servlet 객체 생성) <ul>
<li>init() 메소드 실행 후 service() 메소드를 실행</li>
</ul>
</li>
<li>메모리에 있다면 바로 service 메소드 실행  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(메모리에 없음) &#123;</span><br><span class="line">    <span class="comment">// 해당 서블릿 클래스를 메모리에 올림</span></span><br><span class="line">    <span class="comment">// init() 메소드를 실행</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// service() 메소드를 실행</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>init()</p>
<ul>
<li>한 번만 수행된다</li>
<li>클라이언트의 요청에 따라 적절한 Servlet이 생성되고<br>이 Servlet이 메모리에 로드될 때 init() 메소드가 실행된다</li>
<li>역할: Servlet 객체를 초기화</li>
</ul>
</li>
<li><p>service()</p>
<ul>
<li>응답에 대한 모든 내용은 service()메소드에 구현해야한다</li>
<li>Servlet이 수신한 모든 request에 대해 service() 메소드가 호출된다<ul>
<li>HttpServlet을 상속받은 Servlet클래스에서 service()메서드를 오버라이드하지 않았다면, 그 부모인 HttpServlet의 service()가 호출된다</li>
<li>HttpServlet의 service()메소드는 템플릿 메소드 패턴으로 구현되었다</li>
<li>service()메소드는 request의 type(HTTP Method: GET, POST, PUT, DELETE)에 따라 적절한 메소드(doGet, doPost, doPut, doDelete)를 호출한다</li>
<li>즉, 하위 클래스에서 doGet, doPost등의 메소드를 오버라이드 해두면 HttpServlet의 service()메소드가 요청에 맞는 메소드를 알아서 호출할 수 있게 된다</li>
</ul>
</li>
<li>메소드가 return하면 thread는 종료된다</li>
</ul>
</li>
<li><p>destory()</p>
<ul>
<li>한 번만 수행된다</li>
<li>Web Application이 갱신되거나 WAS를 종료할 때 호출된다</li>
<li>역할: Servlet 객체를 메모리에서 제거</li>
</ul>
</li>
</ul>
<h2 id="Servlet-메서드-구현-예시"><a href="#Servlet-메서드-구현-예시" class="headerlink" title="Servlet 메서드 구현 예시"></a>Servlet 메서드 구현 예시</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">    <span class="comment">// `javax.servlet.http.HttpServlet`를 상속받은 Servlet 클래스</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LoginServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="comment">// doPost()를 재정의 </span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response <span class="keyword">throws</span> ServletException, IOException &#123;</span></span></span><br><span class="line"><span class="function"><span class="params">        // read form fields</span></span></span><br><span class="line"><span class="function"><span class="params">        String username = request.getParameter(<span class="string">&quot;username&quot;</span>)</span></span>;</span><br><span class="line">        String password = request.getParameter(<span class="string">&quot;password&quot;</span>);</span><br><span class="line">         </span><br><span class="line">        <span class="comment">// get response writer</span></span><br><span class="line">        PrintWriter writer = response.getWriter();</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* 여기서 -&gt; DB 접근 등 Business Logic 부분을 처리 */</span></span><br><span class="line">         </span><br><span class="line">        <span class="comment">// build HTML code (view 생성 부분)</span></span><br><span class="line">        String htmlResponse = <span class="string">&quot;&lt;html&gt;&quot;</span>;</span><br><span class="line">        htmlResponse += <span class="string">&quot;&lt;h2&gt;Your username is: &quot;</span> + username + <span class="string">&quot;&lt;br/&gt;&quot;</span>;      </span><br><span class="line">        htmlResponse += <span class="string">&quot;Your password is: &quot;</span> + password + <span class="string">&quot;&lt;/h2&gt;&quot;</span>;    </span><br><span class="line">        htmlResponse += <span class="string">&quot;&lt;/html&gt;&quot;</span>;    </span><br><span class="line">         </span><br><span class="line">        <span class="comment">// return response</span></span><br><span class="line">        writer.println(htmlResponse);         </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>WAS는 웹 브라우저로부터 요청을 받으면</p>
<ol>
<li>요청할 때 가지고 있는 정보를 HttpServletRequest객체를 생성하여 저장한다</li>
<li>웹 브라우저에게 응답을 보낼 때, 사용하기 위한 HttpServletResponse 객체를 생성한다</li>
<li>생성된 HttpServletRequest, HttpServletResponse 객체를 Servlet에게 전달한다</li>
</ol>
</li>
<li><p>일반적으로 javax.servlet.http.HttpServlet를 상속받은 Servlet클래스를 작성한다</p>
<ol>
<li>HttpServletRequest request 파라미터를 통해서 사용자가 입력한 data를 읽는다</li>
<li>HttpServletResponse 파라지터를 통해서 출력/결과를 생성한다</li>
</ol>
</li>
<li><p>Servlet 클래스에 doGet() 또는 doPost()중 적어도 하나를 재정의하여 작성한다</p>
<ul>
<li><code>protected doGet()(HttpServletRequest request, HttpServletResponse response)&#123;&#125;</code></li>
<li><code>protected doPost()(HttpServletRequest request, HttpServletResponse response)&#123;&#125;</code></li>
</ul>
</li>
<li><p>HttpServletRequest request 객체</p>
<ul>
<li><p>사용자가 입력한 내용을 request 객체에 받아온다</p>
<ul>
<li>Http 프로토콜의 Request정보를 Servlet에 전달</li>
</ul>
</li>
<li><p>헤더 정보, 파라미터, 쿠키, URI, URL, Body의 Stream등을 읽어 들이는 메소드가 있다.</p>
</li>
<li><p>getHeader(“원하는 헤더 이름”)</p>
<ul>
<li>원하는 헤더 정보를 확인할 수 있다</li>
</ul>
</li>
<li><p>getParameter()</p>
<ul>
<li>이 메소드를 호출하여 parameter값을 가져온다<ul>
<li>parameter값은 URL또는 form의 input tag를 통해서 넘어올 수 있다</li>
</ul>
</li>
<li>Ex.  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String name = request.getParameter(<span class="string">&quot;firstname&quot;</span>);</span><br><span class="line"><span class="keyword">int</span> year = Integer.parseInt (request.getParameter(<span class="string">&quot;year&quot;</span>));</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>getParameterValues()</p>
<ul>
<li>parameter가 여러 개의 값을 반환할 때 이 메소드를 호출한다. (Ex. checkbox)  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String languages[] = request.getParameterValues(<span class="string">&quot;language&quot;</span>);</span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="Servlet-Concurrency"><a href="#Servlet-Concurrency" class="headerlink" title="Servlet Concurrency"></a>Servlet Concurrency</h2><p><img src="https://user-images.githubusercontent.com/12459864/98628278-98599000-2359-11eb-9ce9-88a1021160f7.png" alt="스크린샷 2020-11-10 오후 1 35 15"></p>
<ul>
<li><p>Java 서블릿 컨테니어/ 웹 서버는 일반적으로 멀티 쓰레드 환경이다.</p>
<ul>
<li>같은 Servlet에 대한 여러 개의 요청이 동시에 실행될 수 있어 runtime에 따라 결과가 달라질 수 있다</li>
<li>즉, Servlet은 메모리에 한 번 올라오고 멀티 쓰레드 환경에서 여러 thread는 하나의 Servlet을 공유하기 대문에 <strong>Concurrency Control</strong>가 필요하다</li>
</ul>
</li>
<li><p>Servlet의 service() 메소드 안의 변수</p>
<ul>
<li>정적 변수, 맴버 변수: 공유하는 자원이므로 <strong>상호 배제</strong>가 필요</li>
<li>지역 변수: thread마다 독립적으로 생성</li>
</ul>
</li>
</ul>
<h2 id="Servlet-Annotation"><a href="#Servlet-Annotation" class="headerlink" title="Servlet Annotation"></a>Servlet Annotation</h2><p><img src="https://user-images.githubusercontent.com/12459864/98628886-f20e8a00-235a-11eb-83ea-311d46ec4ad2.png" alt="스크린샷 2020-11-10 오후 1 44 53"></p>
<ul>
<li>Servlet API 3.0은 javax.servlet.annotation이라는 새로운 패키지를 도입했다.<ul>
<li>Tomcat 7이상에서 사용가능</li>
</ul>
</li>
<li>Annotation은 Web Deployment Descriptor파일(web.xml)의 XML 설정을 대체할 수 있다</li>
<li>Annotation Type<ul>
<li>@WebServlet: 서블릿 선언</li>
<li>@WebInitParam: 초기화 매개 변수 지정</li>
</ul>
</li>
<li>Ex)  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebServlet(value = &quot;/Simple&quot;, </span></span><br><span class="line"><span class="meta">initParams = &#123;@WebInitParam(name=&quot;foo&quot;, value=&quot;Hello &quot;), </span></span><br><span class="line"><span class="meta">          @WebInitParam(name=&quot;bar&quot;, value=&quot; World!&quot;)&#125;)</span> </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Simple</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123; </span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">     response.setContentType(<span class="string">&quot;text/html&quot;</span>); </span><br><span class="line">     PrintWriter out=response.getWriter(); </span><br><span class="line"></span><br><span class="line">        out.print(<span class="string">&quot;&lt;html&gt;&lt;body&gt;&quot;</span>); </span><br><span class="line">     out.print(<span class="string">&quot;&lt;h3&gt;Hello Servlet&lt;/h3&gt;&quot;</span>); </span><br><span class="line">     out.println(getInitParameter(<span class="string">&quot;foo&quot;</span>)); </span><br><span class="line">     out.println(getInitParameter(<span class="string">&quot;bar&quot;</span>)); </span><br><span class="line">     out.print(<span class="string">&quot;&lt;/body&gt;&lt;/html&gt;&quot;</span>); </span><br><span class="line">    &#125; </span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure></li>
</ul>

            


        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">TAGGED IN</span><br/>
                
    <a class="tag tag--primary tag--small t-none-link" href="/tags/Servlet/" rel="tag">Servlet</a> <a class="tag tag--primary tag--small t-none-link" href="/tags/Web/" rel="tag">Web</a>

            </div>
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2020/11/10/Web-HTTP/"
                    data-tooltip="Web-HTTP"
                    aria-label="PREVIOUS: Web-HTTP"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2020/11/09/Web-Web-Server%EC%99%80-WAS%EC%9D%98-%EC%B0%A8%EC%9D%B4%EC%99%80-%EC%9B%B9-%EC%84%9C%EB%B9%84%EC%8A%A4-%EA%B5%AC%EC%A1%B0/"
                    data-tooltip="Web-Web Server와 WAS의 차이와 웹 서비스 구조"
                    aria-label="NEXT: Web-Web Server와 WAS의 차이와 웹 서비스 구조"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Share this post"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://kimyechan.github.io/2020/11/10/Web-Servlet/"
                    title="Share on Facebook"
                    aria-label="Share on Facebook"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://kimyechan.github.io/2020/11/10/Web-Servlet/"
                    title="Share on Twitter"
                    aria-label="Share on Twitter"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://plus.google.com/share?url=https://kimyechan.github.io/2020/11/10/Web-Servlet/"
                    title="Share on Google+"
                    aria-label="Share on Google+"
                >
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
                <li class="post-action">
                    <a
                        class="post-action-btn btn btn--default"
                        href="#disqus_thread"
                        aria-label="Leave a comment"
                    >
                        <i class="fa fa-comment"></i>
                    </a>
                </li>
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
                <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2021 Yechan Kim. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="5">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2020/11/10/Web-HTTP/"
                    data-tooltip="Web-HTTP"
                    aria-label="PREVIOUS: Web-HTTP"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2020/11/09/Web-Web-Server%EC%99%80-WAS%EC%9D%98-%EC%B0%A8%EC%9D%B4%EC%99%80-%EC%9B%B9-%EC%84%9C%EB%B9%84%EC%8A%A4-%EA%B5%AC%EC%A1%B0/"
                    data-tooltip="Web-Web Server와 WAS의 차이와 웹 서비스 구조"
                    aria-label="NEXT: Web-Web Server와 WAS의 차이와 웹 서비스 구조"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Share this post"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://kimyechan.github.io/2020/11/10/Web-Servlet/"
                    title="Share on Facebook"
                    aria-label="Share on Facebook"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://kimyechan.github.io/2020/11/10/Web-Servlet/"
                    title="Share on Twitter"
                    aria-label="Share on Twitter"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://plus.google.com/share?url=https://kimyechan.github.io/2020/11/10/Web-Servlet/"
                    title="Share on Google+"
                    aria-label="Share on Google+"
                >
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
                <li class="post-action">
                    <a
                        class="post-action-btn btn btn--default"
                        href="#disqus_thread"
                        aria-label="Leave a comment"
                    >
                        <i class="fa fa-comment"></i>
                    </a>
                </li>
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                
    <div id="share-options-bar" class="share-options-bar" data-behavior="5">
        <i id="btn-close-shareoptions" class="fa fa-times"></i>
        <ul class="share-options">
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://www.facebook.com/sharer/sharer.php?u=https://kimyechan.github.io/2020/11/10/Web-Servlet/"
                        aria-label="Share on Facebook"
                    >
                        <i class="fab fa-facebook" aria-hidden="true"></i><span>Share on Facebook</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://twitter.com/intent/tweet?text=https://kimyechan.github.io/2020/11/10/Web-Servlet/"
                        aria-label="Share on Twitter"
                    >
                        <i class="fab fa-twitter" aria-hidden="true"></i><span>Share on Twitter</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://plus.google.com/share?url=https://kimyechan.github.io/2020/11/10/Web-Servlet/"
                        aria-label="Share on Google+"
                    >
                        <i class="fab fa-google-plus" aria-hidden="true"></i><span>Share on Google+</span>
                    </a>
                </li>
            
        </ul>
    </div>


            
        </div>
        


<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <h4 id="about-card-name">Yechan Kim</h4>
        
            <div id="about-card-bio"><p>author.bio</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>author.job</p>

            </div>
        
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->

<script src="/assets/js/jquery.js"></script>


<script src="/assets/js/jquery.fancybox.js"></script>


<script src="/assets/js/thumbs.js"></script>


<script src="/assets/js/tranquilpeak.js"></script>

<!--SCRIPTS END-->


    
        <script>
          var disqus_config = function() {
            this.page.url = 'https://kimyechan.github.io/2020/11/10/Web-Servlet/';
              
            this.page.identifier = '2020/11/10/Web-Servlet/';
              
          };
          (function() {
            var d = document, s = d.createElement('script');
            var disqus_shortname = 'xhandev';
            s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
          })();
        </script>
    




    </body>
</html>
